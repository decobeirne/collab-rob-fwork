#include "../../Common/RobotDefs.h"

#include "ObstacleDetection.h"
#include "../../Common/BitArray.h"



/*!
\file ObstacleDetection.c
Write image features out to text files using ObstacleDetection_writeFeatures().
Then process these scripts using trainImageData.py (it was considered that it would take
too long to write this in c, so python was used).
*/




#define N_IMAGE_GROUPS 22
const float imgGroupDescs[22][12] = {
{ // From 5 images
  107.748465f,   151.561847f,   124.000505f,    27.130216f,    55.235349f,    32.398033f,
   14.493816f,    19.779364f,    38.769828f,     6.616033f,    12.378096f,    10.911808f
},
{ // From 3 images
  107.870961f,   147.845800f,    76.295632f,    28.302405f,    60.947061f,    20.239222f,
    2.071891f,     5.765177f,     6.188790f,     5.110568f,    10.156677f,     3.791992f
},
{ // From 4 images
  122.979925f,   182.279366f,   151.361603f,    14.628560f,    29.190086f,    25.057588f,
    1.131599f,     3.678491f,    14.789844f,     2.955496f,     5.810877f,     5.546217f
},
{ // From 2 images
  115.151867f,   174.071251f,   116.545639f,    20.560012f,    38.725248f,    28.926833f,
    1.387618f,     4.522065f,    10.930719f,     4.154082f,     7.019604f,     6.141921f
},
{ // From 4 images
  128.580515f,   160.763546f,   167.759640f,    24.873029f,    54.921595f,    40.470244f,
    1.766298f,     6.323524f,    17.606643f,     4.639682f,     9.544378f,     9.765589f
},
{ // From 4 images
  128.194441f,   177.737122f,   163.962532f,    14.698516f,    33.416117f,    26.033314f,
    1.408077f,     4.571375f,    18.369480f,     3.236863f,     7.045944f,     6.265337f
},
{ // From 4 images
  117.396938f,   164.539444f,    76.439222f,    27.098311f,    64.899615f,    20.241115f,
    2.317724f,    11.466475f,    15.177243f,     8.221784f,    28.663204f,     4.697705f
},
{ // From 7 images
  114.800511f,   135.206678f,   108.771043f,    57.071106f,    77.889319f,    29.956450f,
   19.438824f,    25.933559f,    29.203433f,    36.235951f,    15.926059f,     8.221827f
},
{ // From 4 images
  124.740588f,    96.283142f,    51.402946f,   103.910812f,   115.450209f,    16.125811f,
    5.942001f,     7.015450f,     2.495527f,    19.544807f,    14.638943f,     2.323005f
},
{ // From 4 images
  115.597859f,   167.658310f,   112.493906f,    22.058112f,    42.756020f,    28.380898f,
    2.213427f,     6.303609f,    13.047529f,     4.120274f,     7.604768f,     6.304124f
},
{ // From 4 images
   87.575039f,    89.506058f,    49.145981f,   139.538599f,   109.470387f,    17.169752f,
   10.041555f,     6.534344f,     2.706831f,    27.416922f,    13.174260f,     2.410048f
},
{ // From 3 images
  119.589813f,   175.018377f,    95.472928f,    20.332342f,    44.376617f,    22.257551f,
    1.245390f,     6.505125f,    11.566526f,     4.143362f,    10.432662f,     4.881185f
},
{ // From 6 images
  128.761818f,   172.599327f,   162.053039f,    18.400894f,    42.895968f,    30.904162f,
    1.968014f,     7.081026f,    29.427882f,     5.335226f,     9.441689f,     8.698597f
},
{ // From 2 images
  129.857674f,   165.637314f,   139.521377f,    21.411666f,    50.414835f,    31.140479f,
    1.554243f,     6.624025f,    24.934421f,     4.847095f,    11.654425f,     7.539288f
},
{ // From 3 images
  114.861875f,   164.078964f,   100.651790f,    22.490651f,    46.181882f,    25.627139f,
    5.942937f,    11.546649f,    20.415269f,     4.938174f,    12.236775f,     6.775632f
},
{ // From 3 images
  120.313492f,   122.406591f,    73.150401f,    57.088879f,    89.301216f,    21.772336f,
    5.325571f,    23.872519f,    22.588430f,    24.739426f,    17.765457f,     6.847601f
},
{ // From 2 images
  102.820965f,   133.897087f,   110.489609f,    96.095650f,    77.621304f,    36.332165f,
   28.527991f,    16.044031f,    29.523021f,    75.375690f,    12.892617f,     9.263115f
},
{ // From 4 images
  111.657930f,   133.368023f,    77.472856f,   125.519969f,    81.315352f,    24.616273f,
   24.061654f,    31.850451f,    16.528967f,    80.895562f,    16.555837f,     4.241435f
},
{ // From 5 images
  126.703308f,   145.070465f,   128.806198f,    50.153719f,    66.342292f,    32.047228f,
    5.243349f,    32.866827f,    49.560808f,    38.551961f,    20.924288f,    11.813710f
},
{ // From 2 images
   92.363930f,    98.946540f,    31.423218f,    59.710106f,    75.950336f,    10.660298f,
    4.253410f,     6.185079f,     1.442446f,    11.489365f,    10.841057f,     1.441299f
},
{ // From 3 images
  126.290932f,   162.463872f,   147.660126f,    28.075596f,    50.769146f,    31.279425f,
    5.776160f,    14.188403f,    23.953874f,    14.581489f,    11.455877f,     7.048514f
},
{ // From 2 images
  105.263939f,   137.368866f,   129.283780f,    84.013387f,    58.351280f,    28.424290f,
   31.622957f,    39.004317f,    60.458409f,    76.535112f,    19.959012f,     9.730466f
},
};

const int imgGroupRefFeats[22][6] = {
{ 0,  1, 11,  9,  3, 11},
{10,  8,  8,  8,  8,  8},
{ 0,  1,  2,  3,  4,  5},
{ 1, 11,  5, 10, 10,  7},
{ 0,  1,  9, 10, 10,  7},
{ 0,  1,  2,  3,  4,  5},
{ 0,  1,  2,  5,  0,  0},
{ 0,  0,  1,  0,  0,  0},
{ 0,  1,  2,  3,  4, 10},
{ 0,  1, 11,  4,  4, 11},
{ 0,  1, 10,  3,  4,  5},
{ 0,  5,  1,  7,  7,  6},
{ 0,  1,  2,  3,  4,  2},
{ 0,  1,  7,  9,  4, 10},
{ 4,  2,  5,  9,  9,  5},
{ 0,  7, 10,  5,  8, 10},
{ 0, 11,  1,  0,  2,  4},
{ 7,  2,  4, 10,  5, 10},
{ 0,  1, 10,  3,  3, 11},
{ 0,  1,  2,  0,  4, 11},
{ 0,  1,  2,  4,  5, 11},
{ 8,  6, 11,  3,  6,  4},
};

const int nUnoccupiedCellGroupsForImgGroup0 = 24;
const float unoccupiedCellGroupsForImgGroup0[24][6] = {
{    1.060621f,     1.149128f,    15.881719f,     4.004487f,     2.248503f,     6.736126f}, // From 2 cells
{    1.084414f,     1.107603f,    14.431303f,     3.905229f,     2.339786f,     6.052400f}, // From 2 cells
{    1.085561f,     1.082797f,    13.509284f,     6.033644f,     1.594817f,     4.736443f}, // From 4 cells
{    1.090587f,     1.120518f,    14.859447f,     6.530972f,     2.775982f,     6.286774f}, // From 5 cells
{    1.090760f,     1.077535f,    11.882648f,     5.880676f,     1.686275f,     2.847381f}, // From 3 cells
{    1.095733f,     1.032470f,    10.370985f,     4.991677f,     2.092334f,     2.694850f}, // From 4 cells
{    1.097655f,     1.077323f,    11.941555f,     2.312761f,     2.042983f,     4.356662f}, // From 2 cells
{    1.098912f,     1.078850f,    11.092756f,     5.166875f,     1.560059f,     2.041591f}, // From 4 cells
{    1.105747f,     1.109923f,    13.909622f,     6.092415f,     2.110454f,     2.988102f}, // From 5 cells
{    1.106237f,     1.120300f,    14.873285f,     6.053792f,     1.898365f,     5.565280f}, // From 4 cells
{    1.106278f,     1.105737f,    14.387243f,     3.495854f,     1.673845f,     3.673943f}, // From 1199 cells
{    1.108588f,     1.121989f,    12.424327f,     6.243981f,     2.001145f,     3.208750f}, // From 5 cells
{    1.109771f,     0.991281f,     9.556631f,     2.824925f,     1.717581f,     2.224442f}, // From 6 cells
{    1.110723f,     1.127662f,    16.059490f,     5.947443f,     1.591126f,     4.210384f}, // From 6 cells
{    1.110952f,     1.138697f,    16.292311f,     5.043769f,     1.150432f,     3.637389f}, // From 4 cells
{    1.115721f,     1.122005f,    13.409302f,     6.937758f,     2.161156f,     5.767751f}, // From 4 cells
{    1.120906f,     1.106764f,    14.733292f,     4.669549f,     2.321157f,     5.459664f}, // From 3 cells
{    1.127176f,     1.119989f,    12.836292f,     6.577094f,     1.334081f,     3.789002f}, // From 2 cells
{    1.170321f,     1.177953f,    16.892426f,     4.925666f,     1.680939f,     3.863191f}, // From 7 cells
{    1.189046f,     1.176921f,    17.593941f,     3.115958f,     1.474937f,     2.656755f}, // From 2 cells
{    1.231436f,     1.194677f,    16.368191f,     5.405551f,     1.965925f,     5.641117f}, // From 4 cells
{    1.252162f,     1.218235f,    17.870890f,     4.646944f,     1.862813f,     6.079865f}, // From 4 cells
{    1.271632f,     1.249773f,    19.105387f,     5.844855f,     1.877469f,     6.354215f}, // From 5 cells
{    1.280920f,     1.257655f,    19.143215f,     3.633266f,     1.316973f,     3.814641f}, // From 6 cells
};
const int nOccupiedCellGroupsForImgGroup0 = 24;
const float occupiedCellGroupsForImgGroup0[24][6] = {
{    0.671283f,     0.638302f,     4.780565f,     6.863313f,     2.467954f,     1.167174f}, // From 8 cells
{    0.700323f,     0.650030f,     4.818992f,     7.384592f,     3.250509f,     1.247411f}, // From 3 cells
{    0.750197f,     0.699117f,     4.750688f,     7.744175f,     2.131933f,     0.850237f}, // From 3 cells
{    0.758447f,     0.774393f,     5.412164f,     5.213157f,     2.616341f,     1.388188f}, // From 386 cells
{    0.778345f,     0.801307f,     5.698962f,     6.691922f,     3.435148f,     1.199189f}, // From 2 cells
{    0.780015f,     0.785038f,     5.901735f,     5.794179f,     3.666714f,     2.009925f}, // From 2 cells
{    0.789464f,     0.778099f,     5.504217f,     7.105536f,     3.703151f,     1.780794f}, // From 4 cells
{    0.789905f,     0.832237f,     6.050234f,     3.250504f,     3.026881f,     1.064017f}, // From 2 cells
{    0.791981f,     0.705401f,     4.624361f,     8.245449f,     3.527953f,     1.449223f}, // From 4 cells
{    0.832829f,     0.833343f,     6.067838f,     7.225348f,     2.498931f,     1.802284f}, // From 5 cells
{    0.840131f,     0.941100f,     8.228554f,     3.594918f,     3.308005f,     2.213727f}, // From 4 cells
{    0.857385f,     0.906974f,     7.336415f,     4.993270f,     2.026684f,     1.591257f}, // From 2 cells
{    0.868658f,     0.925060f,     9.167419f,     5.851971f,     3.238521f,     2.390748f}, // From 2 cells
{    0.870734f,     0.857595f,     7.900657f,     5.727831f,     2.211503f,     1.636746f}, // From 3 cells
{    0.875480f,     0.937777f,     8.981459f,     5.102387f,     3.331483f,     1.900239f}, // From 2 cells
{    0.875915f,     0.847923f,     7.426250f,     5.990027f,     3.492176f,     2.550132f}, // From 5 cells
{    0.877507f,     0.947715f,     9.626601f,     3.561708f,     2.320276f,     2.727410f}, // From 4 cells
{    0.883193f,     0.881198f,     7.914009f,     7.076766f,     3.098444f,     1.733732f}, // From 3 cells
{    0.884154f,     0.921917f,     8.667112f,     4.913262f,     2.431185f,     2.152866f}, // From 239 cells
{    0.893239f,     0.926657f,     8.353577f,     7.316505f,     2.812789f,     2.260204f}, // From 5 cells
{    0.918394f,     0.849521f,     7.429396f,     9.029399f,     3.059472f,     1.948518f}, // From 4 cells
{    0.920536f,     0.854570f,     7.307487f,     6.722531f,     2.804852f,     2.257285f}, // From 6 cells
{    0.927227f,     0.908763f,     8.758941f,     7.271277f,     2.456558f,     2.682135f}, // From 3 cells
{    0.946377f,     0.899241f,     7.980128f,     6.452112f,     2.076011f,     2.050868f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup1 = 24;
const float unoccupiedCellGroupsForImgGroup1[24][6] = {
{   12.302020f,    21.086575f,     9.086494f,     3.238408f,    10.578415f,     2.351015f}, // From 3 cells
{   12.356636f,    21.795975f,     9.949557f,     5.341644f,    12.523766f,     3.026356f}, // From 3 cells
{   12.417349f,    20.615870f,     8.997926f,     3.314679f,     8.628536f,     2.678316f}, // From 2 cells
{   12.541973f,    22.642269f,    12.328157f,     4.146831f,     8.071193f,     4.330735f}, // From 9 cells
{   12.544935f,    22.987701f,    11.811417f,     2.153944f,     4.520518f,     2.646621f}, // From 2 cells
{   12.591744f,    20.538811f,     9.345571f,     3.951539f,     9.783336f,     2.270698f}, // From 15 cells
{   12.602361f,    21.749237f,     9.240540f,     3.753729f,     9.404631f,     1.730461f}, // From 4 cells
{   12.604356f,    23.051662f,    12.368070f,     4.850979f,    11.903149f,     4.035306f}, // From 7 cells
{   12.608007f,    23.030617f,    12.428148f,     4.521824f,     9.377048f,     3.997971f}, // From 4 cells
{   12.669093f,    23.358196f,    11.752516f,     2.669094f,    10.882666f,     2.998697f}, // From 3 cells
{   12.694342f,    23.390991f,    11.909719f,     5.380670f,    10.887236f,     2.730550f}, // From 2 cells
{   12.703378f,    20.722307f,    10.705145f,     3.616293f,     8.631454f,     3.393986f}, // From 9 cells
{   12.710329f,    21.439768f,    11.102084f,     3.289774f,     6.428638f,     2.668615f}, // From 761 cells
{   12.757118f,    23.403282f,    13.177839f,     3.423337f,     7.143568f,     4.163343f}, // From 4 cells
{   12.770803f,    23.129446f,    12.220900f,     3.340666f,    12.764216f,     3.014678f}, // From 3 cells
{   12.792044f,    23.152779f,    12.022343f,     3.099960f,     8.653087f,     3.917006f}, // From 7 cells
{   12.818097f,    22.044359f,    10.735637f,     3.445573f,    10.553251f,     3.545112f}, // From 13 cells
{   12.852778f,    22.554785f,    10.846357f,     4.592371f,    12.773200f,     4.251815f}, // From 6 cells
{   12.929548f,    23.793873f,    12.806985f,     4.148311f,     5.736176f,     4.370695f}, // From 2 cells
{   12.945600f,    23.976210f,    13.136572f,     4.832170f,     9.711166f,     5.461818f}, // From 4 cells
{   12.987143f,    20.899269f,    10.324160f,     3.931600f,     8.505198f,     1.766764f}, // From 2 cells
{   13.017268f,    24.125046f,    13.126140f,     3.521657f,     7.995955f,     4.600992f}, // From 5 cells
{   13.064928f,    21.108814f,     9.001642f,     2.593399f,     8.559403f,     1.897196f}, // From 2 cells
{   13.102344f,    20.260597f,    10.433323f,     4.388960f,     4.778563f,     2.139427f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup1 = 24;
const float occupiedCellGroupsForImgGroup1[24][6] = {
{    6.486899f,    36.625908f,    18.697958f,     5.703123f,    17.242073f,     4.726799f}, // From 2 cells
{    6.890525f,    35.090092f,    19.226435f,     5.644354f,    22.219748f,     6.561910f}, // From 5 cells
{    6.918598f,    32.855419f,    16.526009f,     8.006490f,    30.322922f,     5.807391f}, // From 2 cells
{    6.921453f,    35.003967f,    18.297739f,     6.407720f,    12.708012f,     4.976409f}, // From 4 cells
{    6.940468f,    32.818909f,    16.042471f,     7.657668f,    28.068846f,     4.829171f}, // From 5 cells
{    7.002652f,    35.268436f,    18.796257f,     7.718964f,    24.840973f,     6.072800f}, // From 2 cells
{    7.065903f,    32.947819f,    17.017361f,     8.706449f,    20.535158f,     5.085940f}, // From 329 cells
{    7.103028f,    28.239090f,    15.835571f,     9.615372f,    23.307922f,     4.886045f}, // From 5 cells
{    7.104894f,    31.219103f,    15.396235f,    10.270588f,    28.575649f,     5.361433f}, // From 7 cells
{    7.160153f,    29.986012f,    16.207706f,     8.148673f,    23.245361f,     5.583057f}, // From 2 cells
{    7.240361f,    32.402039f,    16.699202f,    11.548881f,    23.642118f,     6.179775f}, // From 14 cells
{    7.249512f,    29.255787f,    15.270350f,    13.916569f,    23.883606f,     5.429816f}, // From 4 cells
{    7.255497f,    29.957144f,    16.165970f,     7.919600f,    18.757114f,     4.531956f}, // From 12 cells
{    7.310490f,    32.296833f,    17.110865f,     7.859041f,    14.436678f,     4.903036f}, // From 9 cells
{    7.320509f,    29.749624f,    16.465157f,     9.358810f,    29.785786f,     6.407720f}, // From 4 cells
{    7.338598f,    29.933743f,    15.218472f,    10.621607f,    16.913473f,     4.575137f}, // From 6 cells
{    7.347440f,    30.338251f,    15.406097f,    10.993916f,    24.833073f,     4.170705f}, // From 4 cells
{    7.384571f,    32.260941f,    15.238754f,     9.908585f,    22.910442f,     5.785274f}, // From 2 cells
{    7.385659f,    30.394033f,    14.727755f,    15.245190f,    30.484062f,     5.599909f}, // From 6 cells
{    7.413133f,    29.538984f,    14.010012f,     8.009649f,    26.186974f,     5.548302f}, // From 2 cells
{    7.442512f,    35.294182f,    17.132191f,     9.535748f,    14.477402f,     5.226020f}, // From 2 cells
{    7.512693f,    30.003174f,    14.186327f,    18.749214f,    22.970474f,     5.032230f}, // From 3 cells
{    7.549416f,    29.316641f,    15.780571f,    13.821779f,    20.003586f,     5.181785f}, // From 4 cells
{    7.817085f,    33.115211f,    15.753656f,    14.095087f,    21.055740f,     4.388719f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup2 = 24;
const float unoccupiedCellGroupsForImgGroup2[24][6] = {
{    0.971962f,     0.985176f,     0.739933f,     1.777956f,     2.228048f,     1.757127f}, // From 6 cells
{    0.979194f,     1.025028f,     0.767389f,     2.262998f,     2.509790f,     2.354300f}, // From 6 cells
{    0.981073f,     0.970776f,     0.903468f,     1.289543f,     0.888349f,     1.498752f}, // From 2 cells
{    0.985464f,     0.965329f,     0.903522f,     1.693626f,     1.227718f,     1.195974f}, // From 3 cells
{    0.989913f,     1.005558f,     0.941934f,     1.562895f,     1.961313f,     1.463874f}, // From 2 cells
{    0.992414f,     1.034672f,     0.679228f,     2.036455f,     2.933781f,     2.295201f}, // From 5 cells
{    0.994594f,     1.008968f,     0.907979f,     2.067178f,     1.790705f,     1.904431f}, // From 3 cells
{    0.994735f,     0.995447f,     0.895069f,     1.334545f,     2.055201f,     0.992699f}, // From 2 cells
{    0.996619f,     0.976070f,     0.839679f,     1.292936f,     1.428306f,     1.384061f}, // From 2 cells
{    0.998430f,     1.034038f,     0.760087f,     2.145722f,     3.368832f,     2.741675f}, // From 2 cells
{    0.999942f,     0.999125f,     1.002542f,     0.972611f,     0.964030f,     0.961253f}, // From 1659 cells
{    1.001112f,     1.020900f,     1.016268f,     1.614179f,     1.310091f,     1.742698f}, // From 9 cells
{    1.004433f,     0.975681f,     0.815364f,     1.054552f,     1.652988f,     1.011330f}, // From 5 cells
{    1.006607f,     1.030874f,     1.012496f,     1.502207f,     1.537412f,     1.598723f}, // From 9 cells
{    1.007311f,     1.058667f,     1.041895f,     1.329523f,     1.789523f,     1.707271f}, // From 2 cells
{    1.007788f,     1.023527f,     1.046286f,     1.033525f,     0.956896f,     2.005010f}, // From 2 cells
{    1.008337f,     1.034629f,     1.397789f,     1.228657f,     0.818092f,     1.577423f}, // From 2 cells
{    1.008943f,     1.036190f,     1.085969f,     1.345989f,     1.281659f,     2.019262f}, // From 8 cells
{    1.010133f,     1.024202f,     1.106398f,     1.108630f,     1.216719f,     1.817472f}, // From 2 cells
{    1.010310f,     1.015155f,     1.186604f,     0.913533f,     0.894444f,     1.612354f}, // From 8 cells
{    1.013309f,     1.018773f,     1.004708f,     1.688375f,     1.563555f,     1.261699f}, // From 3 cells
{    1.017283f,     0.998718f,     0.588956f,     1.615041f,     2.872094f,     1.508975f}, // From 2 cells
{    1.024452f,     1.057138f,     1.444390f,     0.970928f,     1.004340f,     1.733991f}, // From 2 cells
{    1.026717f,     1.049014f,     0.729369f,     1.219369f,     1.907063f,     1.506657f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup2 = 0;

const int nUnoccupiedCellGroupsForImgGroup3 = 24;
const float unoccupiedCellGroupsForImgGroup3[24][6] = {
{    0.647194f,    27.584469f,     3.742609f,     4.130110f,     6.910981f,     5.669337f}, // From 2 cells
{    0.648310f,    26.058979f,     2.933270f,     2.005816f,     6.120643f,     2.599179f}, // From 4 cells
{    0.648632f,    27.251726f,     3.437521f,     3.209160f,     4.653669f,     7.491209f}, // From 4 cells
{    0.650817f,    27.187574f,     3.590193f,     3.773962f,     7.304332f,     7.497201f}, // From 6 cells
{    0.652469f,    28.111555f,     3.768133f,     3.256941f,     8.154037f,     5.192483f}, // From 5 cells
{    0.654559f,    27.196569f,     3.751985f,     4.973635f,     7.083913f,     6.228351f}, // From 5 cells
{    0.655196f,    28.602070f,     3.683177f,     3.744503f,     8.200034f,     7.346662f}, // From 2 cells
{    0.655389f,    27.683758f,     3.313129f,     2.590954f,     8.136616f,     4.258187f}, // From 6 cells
{    0.656890f,    27.152090f,     3.500977f,     2.984905f,     7.220548f,     6.312530f}, // From 6 cells
{    0.657667f,    26.203297f,     2.755580f,     3.131089f,     6.772170f,     4.031031f}, // From 4 cells
{    0.658375f,    27.934355f,     3.808132f,     3.173398f,     9.197477f,     7.735677f}, // From 3 cells
{    0.662123f,    28.131983f,     4.170382f,     3.810824f,     6.284083f,    11.378256f}, // From 5 cells
{    0.662663f,    28.875767f,     4.571400f,     2.001062f,     5.607101f,     4.208847f}, // From 4 cells
{    0.662720f,    28.435074f,     4.077687f,     2.863370f,     5.319619f,     6.360537f}, // From 769 cells
{    0.662745f,    29.989824f,     4.214252f,     2.679216f,     8.147440f,     9.522270f}, // From 2 cells
{    0.662833f,    29.983168f,     4.662506f,     3.053349f,     6.231517f,     7.367600f}, // From 6 cells
{    0.663806f,    28.981800f,     4.115072f,     4.213304f,    10.599688f,     8.998258f}, // From 5 cells
{    0.665507f,    30.111649f,     4.962311f,     2.905954f,     3.460436f,    10.720501f}, // From 2 cells
{    0.666326f,    29.322805f,     4.173111f,     4.314357f,     5.624685f,    10.058126f}, // From 3 cells
{    0.668564f,    28.107512f,     3.919086f,     4.668996f,     7.276481f,     9.772714f}, // From 4 cells
{    0.669338f,    28.113218f,     3.871740f,     3.427749f,     3.747771f,     8.975418f}, // From 2 cells
{    0.670137f,    29.742208f,     4.552816f,     3.738643f,     7.654666f,    10.272804f}, // From 6 cells
{    0.671430f,    29.721289f,     3.746832f,     2.223324f,     3.473687f,     4.036057f}, // From 5 cells
{    0.672099f,    30.042332f,     4.584590f,     2.211262f,     5.382057f,     9.503371f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup3 = 0;

const int nUnoccupiedCellGroupsForImgGroup4 = 24;
const float unoccupiedCellGroupsForImgGroup4[24][6] = {
{    0.971786f,     0.941606f,    29.676041f,     4.248273f,     8.574241f,     6.245329f}, // From 3 cells
{    0.977747f,     0.937369f,    29.319553f,     3.142862f,     7.875659f,     7.993272f}, // From 7 cells
{    0.978301f,     0.937351f,    31.113064f,     3.853340f,     4.366344f,     7.456030f}, // From 2 cells
{    0.982142f,     0.954009f,    30.393667f,     2.653853f,     7.038651f,     8.697513f}, // From 6 cells
{    0.990037f,     0.902073f,    25.542706f,     3.864264f,     9.597913f,     7.407138f}, // From 4 cells
{    0.991361f,     0.919275f,    24.976217f,     2.812435f,     5.035668f,     4.270061f}, // From 6 cells
{    0.992267f,     0.931260f,    26.646465f,     4.069367f,     5.695231f,     6.063075f}, // From 2 cells
{    0.992771f,     0.907121f,    25.307867f,     2.676010f,     6.601644f,     3.407666f}, // From 10 cells
{    0.994523f,     1.055669f,    47.088684f,     2.734052f,     5.548088f,     7.621947f}, // From 2 cells
{    0.997783f,     0.938883f,    29.417595f,     3.082295f,     5.037416f,     8.383512f}, // From 2 cells
{    0.997909f,     1.099959f,    53.822685f,     0.492144f,     3.339045f,     0.271294f}, // From 7 cells
{    0.999948f,     1.049048f,    36.817822f,     4.169747f,     7.732141f,    12.113031f}, // From 2 cells
{    1.000017f,     1.013759f,    37.203640f,     3.665894f,     9.445524f,     9.350700f}, // From 7 cells
{    1.000152f,     1.040409f,    35.750774f,     2.788900f,     7.133276f,    11.932827f}, // From 5 cells
{    1.000257f,     1.071851f,    43.237938f,     2.441628f,     6.421307f,    11.933224f}, // From 2 cells
{    1.001984f,     1.001622f,    35.947338f,     2.639270f,     5.751993f,     6.515940f}, // From 1559 cells
{    1.004981f,     1.027459f,    40.925858f,     2.528299f,     7.630251f,    14.935808f}, // From 11 cells
{    1.005856f,     1.063698f,    44.608376f,     2.063876f,     5.734972f,     9.812212f}, // From 11 cells
{    1.006813f,     1.118563f,    53.120815f,     0.800303f,     4.684656f,     1.722039f}, // From 3 cells
{    1.008429f,     1.069051f,    41.779640f,     2.177072f,     4.585628f,    11.154385f}, // From 2 cells
{    1.012332f,     1.051062f,    48.367050f,     1.113620f,     3.695358f,     3.353207f}, // From 58 cells
{    1.017344f,     1.079832f,    52.002754f,     1.140582f,     4.022188f,     3.803779f}, // From 6 cells
{    1.017730f,     1.055327f,    42.760410f,     2.957336f,     7.593282f,     9.760535f}, // From 5 cells
{    1.021521f,     1.023821f,    44.342838f,     2.025440f,     3.669148f,     4.469342f}, // From 5 cells
};
const int nOccupiedCellGroupsForImgGroup4 = 2;
const float occupiedCellGroupsForImgGroup4[2][6] = {
{    0.693722f,     0.617878f,    11.228858f,     5.645189f,     6.353848f,     2.018491f}, // From 3 cells
{    0.699447f,     0.565222f,    11.050669f,     7.210977f,    10.786425f,     1.999699f}, // From 5 cells
};

const int nUnoccupiedCellGroupsForImgGroup5 = 24;
const float unoccupiedCellGroupsForImgGroup5[24][6] = {
{    0.940796f,     0.861338f,     0.579029f,     2.934958f,     1.941680f,     1.411014f}, // From 2 cells
{    0.944349f,     0.902730f,     0.605329f,     3.350522f,     2.549238f,     1.643420f}, // From 3 cells
{    0.948513f,     0.924628f,     0.706079f,     2.410717f,     1.973822f,     2.413061f}, // From 2 cells
{    0.955896f,     0.915571f,     0.573888f,     1.921416f,     1.388028f,     0.936471f}, // From 7 cells
{    0.961724f,     0.949301f,     0.892202f,     1.916535f,     1.415055f,     2.195511f}, // From 2 cells
{    0.963373f,     0.947297f,     0.727753f,     1.623975f,     1.210031f,     1.441884f}, // From 3 cells
{    0.963865f,     0.941052f,     0.811178f,     2.376869f,     1.654789f,     1.370152f}, // From 5 cells
{    0.967878f,     0.958474f,     0.616963f,     1.275297f,     1.006867f,     0.930657f}, // From 4 cells
{    0.970439f,     0.961635f,     0.847466f,     1.516464f,     1.606791f,     2.181781f}, // From 2 cells
{    0.970802f,     0.929656f,     0.646282f,     1.512161f,     1.041579f,     0.688410f}, // From 12 cells
{    0.970836f,     0.932178f,     0.581514f,     1.915104f,     1.892386f,     0.938498f}, // From 3 cells
{    0.975489f,     0.969732f,     0.718678f,     2.033770f,     1.965364f,     1.950554f}, // From 5 cells
{    0.976918f,     0.994845f,     0.880945f,     2.223855f,     2.082325f,     1.792437f}, // From 8 cells
{    0.984017f,     0.989664f,     0.793674f,     1.523253f,     0.849453f,     0.955486f}, // From 3 cells
{    0.989119f,     0.979638f,     0.594885f,     1.815038f,     3.115246f,     2.278038f}, // From 2 cells
{    0.990143f,     0.980902f,     0.765494f,     1.795262f,     1.765781f,     2.372133f}, // From 2 cells
{    0.992705f,     1.020027f,     0.738168f,     1.962924f,     2.496906f,     2.681451f}, // From 4 cells
{    1.000371f,     1.032442f,     1.043860f,     1.758430f,     1.879094f,     1.441809f}, // From 3 cells
{    1.000754f,     1.029558f,     0.543528f,     1.173341f,     2.604217f,     1.364119f}, // From 3 cells
{    1.001047f,     1.035582f,     0.761083f,     1.633276f,     2.387247f,     2.067181f}, // From 5 cells
{    1.001193f,     0.988064f,     0.866888f,     1.150412f,     1.472144f,     2.123638f}, // From 2 cells
{    1.001212f,     1.001687f,     1.013645f,     0.954681f,     0.961222f,     0.970226f}, // From 1657 cells
{    1.008220f,     1.024049f,     1.109756f,     1.358460f,     1.299556f,     1.979332f}, // From 7 cells
{    1.010560f,     1.018184f,     0.762258f,     1.456501f,     1.848094f,     1.318371f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup5 = 0;

const int nUnoccupiedCellGroupsForImgGroup6 = 24;
const float unoccupiedCellGroupsForImgGroup6[24][6] = {
{    1.001413f,     1.019259f,     0.934872f,     1.793980f,     0.562226f,     0.161597f}, // From 3 cells
{    1.002478f,     1.014877f,     0.902418f,     1.294975f,     0.514244f,     0.161463f}, // From 6 cells
{    1.003749f,     1.066866f,     1.228205f,     1.352972f,     0.586802f,     0.242603f}, // From 2 cells
{    1.004904f,     1.086458f,     1.197079f,     1.706936f,     0.637339f,     0.172307f}, // From 2 cells
{    1.005823f,     1.038243f,     1.100221f,     1.358618f,     0.654380f,     0.204723f}, // From 18 cells
{    1.006074f,     1.008735f,     1.013108f,     1.538642f,     0.437538f,     0.167455f}, // From 6 cells
{    1.006235f,     1.009121f,     1.000128f,     1.235813f,     0.647803f,     0.156585f}, // From 8 cells
{    1.007300f,     1.034277f,     1.036453f,     0.787178f,     0.554776f,     0.159447f}, // From 21 cells
{    1.008358f,     1.005417f,     1.005113f,     1.758751f,     0.266217f,     0.276157f}, // From 2 cells
{    1.010179f,     1.038513f,     1.121562f,     1.080917f,     0.396704f,     0.184151f}, // From 1254 cells
{    1.010405f,     1.005244f,     0.937540f,     1.560616f,     0.699928f,     0.172256f}, // From 3 cells
{    1.012686f,     1.047238f,     1.083168f,     1.927503f,     0.470894f,     0.238986f}, // From 5 cells
{    1.013350f,     1.082906f,     1.189920f,     1.634438f,     0.512147f,     0.260951f}, // From 11 cells
{    1.014319f,     1.107550f,     1.419268f,     0.844734f,     0.364174f,     0.205037f}, // From 3 cells
{    1.015146f,     1.041852f,     1.119723f,     0.987473f,     0.709638f,     0.176510f}, // From 4 cells
{    1.015411f,     1.015821f,     1.098255f,     1.693991f,     0.416308f,     0.195502f}, // From 4 cells
{    1.015944f,     1.070523f,     1.148268f,     1.104836f,     0.684644f,     0.220460f}, // From 5 cells
{    1.016086f,     1.079169f,     1.303224f,     0.858838f,     0.534445f,     0.230388f}, // From 3 cells
{    1.016724f,     1.015278f,     1.022689f,     1.444648f,     0.302282f,     0.130098f}, // From 2 cells
{    1.016767f,     1.125467f,     1.403952f,     1.145744f,     0.450890f,     0.324129f}, // From 2 cells
{    1.017419f,     1.095696f,     1.286595f,     1.568742f,     0.590283f,     0.260739f}, // From 3 cells
{    1.018887f,     1.078854f,     1.164231f,     1.575765f,     0.449904f,     0.158635f}, // From 5 cells
{    1.019350f,     0.991793f,     0.999322f,     2.001397f,     0.612664f,     0.185502f}, // From 2 cells
{    1.019794f,     1.047155f,     1.271655f,     1.774283f,     0.423153f,     0.236844f}, // From 6 cells
};
const int nOccupiedCellGroupsForImgGroup6 = 24;
const float occupiedCellGroupsForImgGroup6[24][6] = {
{    0.899174f,     1.033605f,     0.373679f,     4.556913f,     2.170718f,     0.118533f}, // From 3 cells
{    0.905320f,     0.758623f,     0.487590f,     1.969659f,     0.977411f,     0.093544f}, // From 4 cells
{    0.926472f,     0.828867f,     0.493413f,     1.217341f,     1.275844f,     0.097198f}, // From 5 cells
{    0.926854f,     0.783167f,     0.489807f,     2.222640f,     0.820711f,     0.075794f}, // From 2 cells
{    0.935302f,     0.770046f,     0.514609f,     1.570107f,     0.876320f,     0.095517f}, // From 24 cells
{    0.935430f,     0.880809f,     0.490204f,     2.179919f,     1.620732f,     0.119869f}, // From 2 cells
{    0.945336f,     1.028365f,     0.505460f,     3.333207f,     1.463215f,     0.100135f}, // From 2 cells
{    0.947608f,     0.804873f,     0.496195f,     2.202816f,     1.278496f,     0.096465f}, // From 23 cells
{    0.951371f,     0.959948f,     0.469895f,     2.276463f,     1.772155f,     0.110616f}, // From 5 cells
{    0.951785f,     0.829431f,     0.460647f,     2.799265f,     1.497339f,     0.113672f}, // From 5 cells
{    0.951864f,     0.853091f,     0.511646f,     1.693751f,     1.337760f,     0.099811f}, // From 31 cells
{    0.955396f,     0.807874f,     0.420626f,     3.188649f,     2.005937f,     0.128956f}, // From 2 cells
{    0.957856f,     0.935976f,     0.495756f,     1.861989f,     1.988895f,     0.076400f}, // From 5 cells
{    0.958352f,     0.914228f,     0.521441f,     1.951074f,     1.523567f,     0.100773f}, // From 13 cells
{    0.960031f,     0.915167f,     0.426412f,     2.583706f,     1.750162f,     0.102387f}, // From 2 cells
{    0.962196f,     0.918790f,     0.503461f,     1.418545f,     1.740356f,     0.089775f}, // From 11 cells
{    0.970759f,     0.722738f,     0.443008f,     2.135449f,     0.487469f,     0.088251f}, // From 71 cells
{    0.971012f,     0.941157f,     0.533850f,     1.807938f,     1.657482f,     0.088398f}, // From 9 cells
{    0.981168f,     0.975322f,     0.333299f,     6.949105f,     2.142757f,     0.124974f}, // From 4 cells
{    0.981182f,     0.950735f,     0.522870f,     2.210859f,     1.485630f,     0.078441f}, // From 4 cells
{    0.986948f,     0.944146f,     0.508161f,     2.461036f,     1.609175f,     0.102612f}, // From 6 cells
{    0.989326f,     0.966389f,     0.490260f,     2.342654f,     2.137753f,     0.113116f}, // From 7 cells
{    0.989697f,     0.870389f,     0.392390f,     2.955053f,     1.820035f,     0.119182f}, // From 2 cells
{    1.022105f,     0.809981f,     0.436177f,     3.924960f,     2.016733f,     0.175937f}, // From 3 cells
};

const int nUnoccupiedCellGroupsForImgGroup7 = 24;
const float unoccupiedCellGroupsForImgGroup7[24][6] = {
{    1.041304f,     1.271108f,     0.945073f,     0.377469f,     0.679255f,     0.424621f}, // From 2 cells
{    1.059431f,     1.141904f,     0.697759f,     0.200535f,     0.412037f,     0.191429f}, // From 2 cells
{    1.074469f,     1.450116f,     1.171953f,     0.281585f,     0.493269f,     0.510458f}, // From 2 cells
{    1.076861f,     1.308901f,     0.915840f,     0.265646f,     0.901739f,     0.483893f}, // From 2 cells
{    1.083009f,     1.399543f,     0.986780f,     0.418408f,     0.701228f,     0.569116f}, // From 3 cells
{    1.090895f,     1.285996f,     0.876182f,     0.493778f,     0.860355f,     0.420694f}, // From 4 cells
{    1.103578f,     1.428386f,     1.101675f,     0.275656f,     0.594051f,     0.651437f}, // From 3 cells
{    1.122308f,     1.361842f,     0.982191f,     0.229609f,     0.552709f,     0.302506f}, // From 1853 cells
{    1.133420f,     1.254638f,     0.980716f,     0.344728f,     1.092682f,     0.592763f}, // From 2 cells
{    1.141046f,     1.434481f,     1.111005f,     0.364117f,     0.599398f,     0.477052f}, // From 2 cells
{    1.156308f,     1.134281f,     0.633699f,     0.353047f,     1.165478f,     0.246491f}, // From 3 cells
{    1.170956f,     1.318602f,     0.861935f,     0.376559f,     0.566665f,     0.399636f}, // From 3 cells
{    1.173460f,     1.525512f,     1.082691f,     0.271976f,     0.567221f,     0.469274f}, // From 4 cells
{    1.182087f,     1.253998f,     0.646013f,     0.268502f,     0.710940f,     0.165627f}, // From 2 cells
{    1.216112f,     1.452047f,     0.878090f,     0.279758f,     0.932345f,     0.295097f}, // From 5 cells
{    1.222583f,     1.283803f,     0.831051f,     0.416355f,     1.065465f,     0.276536f}, // From 7 cells
{    1.252603f,     1.324333f,     0.917560f,     0.415769f,     0.969337f,     0.223082f}, // From 3 cells
{    1.259096f,     1.322725f,     1.040325f,     0.322334f,     0.967125f,     0.355145f}, // From 2 cells
{    1.260116f,     1.398223f,     1.003209f,     0.361486f,     1.022768f,     0.264601f}, // From 5 cells
{    1.269473f,     1.415573f,     0.921915f,     0.484545f,     0.714468f,     0.263594f}, // From 2 cells
{    1.278455f,     1.408989f,     0.940877f,     0.414459f,     1.010381f,     0.388161f}, // From 3 cells
{    1.296145f,     1.585795f,     1.082464f,     0.338555f,     0.703285f,     0.364239f}, // From 2 cells
{    1.299553f,     1.499915f,     1.000265f,     0.333899f,     0.976464f,     0.340398f}, // From 9 cells
{    1.312302f,     1.365235f,     0.912981f,     0.265744f,     0.986541f,     0.355206f}, // From 4 cells
};
const int nOccupiedCellGroupsForImgGroup7 = 24;
const float occupiedCellGroupsForImgGroup7[24][6] = {
{    0.280664f,     0.739677f,     0.288650f,     0.738989f,     0.700053f,     0.131827f}, // From 7 cells
{    0.342311f,     0.985804f,     0.474575f,     0.881633f,     0.625883f,     0.188036f}, // From 2 cells
{    0.345051f,     0.915930f,     0.458913f,     0.971171f,     0.857256f,     0.243509f}, // From 4 cells
{    0.440043f,     0.856511f,     0.471690f,     1.173323f,     0.632238f,     0.212830f}, // From 4 cells
{    0.466434f,     0.884446f,     0.449670f,     1.333388f,     0.860538f,     0.222153f}, // From 4 cells
{    0.471977f,     0.896008f,     0.445318f,     1.478070f,     0.696063f,     0.247902f}, // From 6 cells
{    0.496090f,     0.709458f,     0.285484f,     1.481483f,     0.653742f,     0.130208f}, // From 46 cells
{    0.531370f,     1.001932f,     0.442134f,     1.966095f,     0.694014f,     0.166263f}, // From 2 cells
{    0.548423f,     0.865856f,     0.448694f,     1.661393f,     0.808967f,     0.236303f}, // From 16 cells
{    0.569649f,     0.769317f,     0.296113f,     2.160144f,     0.639165f,     0.139070f}, // From 2 cells
{    0.572686f,     0.982250f,     0.458696f,     0.955901f,     1.071006f,     0.173517f}, // From 3 cells
{    0.611469f,     0.882941f,     0.428364f,     1.823375f,     0.909760f,     0.219497f}, // From 2 cells
{    0.664467f,     0.862939f,     0.431763f,     2.133879f,     0.765061f,     0.205933f}, // From 5 cells
{    0.669112f,     0.852769f,     0.450756f,     2.336020f,     0.928303f,     0.281168f}, // From 2 cells
{    0.692198f,     0.632183f,     0.409604f,     1.629601f,     0.922448f,     0.129783f}, // From 2 cells
{    0.743355f,     0.798930f,     0.449783f,     0.937569f,     0.928229f,     0.159454f}, // From 706 cells
{    0.759890f,     0.668180f,     0.291735f,     2.350641f,     0.631663f,     0.149573f}, // From 4 cells
{    0.785057f,     0.778822f,     0.411599f,     1.407389f,     1.349327f,     0.149093f}, // From 3 cells
{    0.803948f,     0.746805f,     0.445871f,     1.956116f,     0.744302f,     0.210370f}, // From 2 cells
{    0.810653f,     0.834456f,     0.465400f,     1.236251f,     1.391776f,     0.195083f}, // From 4 cells
{    0.828719f,     0.859277f,     0.439033f,     2.506728f,     0.705056f,     0.206475f}, // From 3 cells
{    0.848514f,     0.803310f,     0.459618f,     1.740809f,     0.970613f,     0.155787f}, // From 12 cells
{    0.874660f,     0.867649f,     0.489075f,     1.576195f,     1.293387f,     0.190571f}, // From 3 cells
{    1.104440f,     0.834179f,     0.515864f,     1.601347f,     1.102301f,     0.169585f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup8 = 0;
const int nOccupiedCellGroupsForImgGroup8 = 24;
const float occupiedCellGroupsForImgGroup8[24][6] = {
{    0.883934f,     0.900581f,     0.915636f,     1.793489f,     1.074648f,     0.885159f}, // From 3 cells
{    0.905492f,     0.989324f,     0.920749f,     1.612809f,     0.940189f,     0.903152f}, // From 4 cells
{    0.907868f,     1.072500f,     1.104471f,     1.139335f,     1.111173f,     1.357733f}, // From 3 cells
{    0.908251f,     0.906607f,     1.053295f,     0.762181f,     0.663140f,     1.186325f}, // From 2 cells
{    0.922861f,     0.794096f,     0.939430f,     1.409471f,     0.612378f,     1.027019f}, // From 2 cells
{    0.932901f,     0.915147f,     0.973061f,     1.318257f,     1.364345f,     0.970803f}, // From 6 cells
{    0.948124f,     1.092880f,     1.047812f,     0.624693f,     0.747606f,     0.763204f}, // From 3 cells
{    0.951627f,     0.921870f,     1.020154f,     1.234850f,     0.633905f,     1.187584f}, // From 3 cells
{    0.959522f,     0.986900f,     0.994391f,     0.997436f,     1.006550f,     1.723832f}, // From 5 cells
{    0.961398f,     0.936484f,     0.947762f,     1.661042f,     0.850006f,     1.271675f}, // From 2 cells
{    0.963549f,     0.997713f,     1.012236f,     1.229884f,     1.425884f,     1.617388f}, // From 3 cells
{    0.981237f,     0.774979f,     0.948662f,     1.453032f,     0.779596f,     0.884187f}, // From 5 cells
{    0.982420f,     1.007607f,     0.975988f,     1.279315f,     1.122466f,     0.677334f}, // From 4 cells
{    0.999512f,     1.051377f,     0.953602f,     0.675663f,     1.088712f,     0.700119f}, // From 4 cells
{    1.001635f,     0.998885f,     0.999107f,     0.985689f,     0.998174f,     1.091507f}, // From 1608 cells
{    1.007296f,     1.037422f,     0.875385f,     1.428323f,     0.914739f,     0.847372f}, // From 2 cells
{    1.018938f,     1.098891f,     1.035803f,     1.452643f,     1.075044f,     1.111709f}, // From 2 cells
{    1.021765f,     0.873904f,     0.967449f,     1.819182f,     1.096665f,     1.345779f}, // From 8 cells
{    1.026510f,     0.906485f,     0.921671f,     1.385436f,     1.180847f,     1.395973f}, // From 5 cells
{    1.041421f,     1.091363f,     1.090945f,     0.853010f,     0.795811f,     1.622723f}, // From 2 cells
{    1.043191f,     1.196864f,     1.053966f,     0.659189f,     0.717186f,     1.436173f}, // From 2 cells
{    1.043761f,     0.985028f,     0.944889f,     1.115494f,     1.478166f,     0.807001f}, // From 4 cells
{    1.069557f,     1.020581f,     0.962216f,     1.223883f,     1.447886f,     1.279088f}, // From 2 cells
{    1.080665f,     0.863281f,     0.935263f,     1.681734f,     1.225936f,     0.846854f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup9 = 24;
const float unoccupiedCellGroupsForImgGroup9[24][6] = {
{    0.954272f,     0.842374f,    10.911162f,     0.530384f,     1.090008f,     2.446151f}, // From 5 cells
{    0.987130f,     0.899991f,    12.516249f,     0.443705f,     1.021317f,     2.661546f}, // From 7 cells
{    0.994110f,     0.947155f,    14.914737f,     0.553530f,     1.289850f,     5.518119f}, // From 3 cells
{    0.995737f,     0.935475f,    13.057828f,     0.540743f,     0.813517f,     3.121051f}, // From 4 cells
{    0.996767f,     1.007754f,    17.540916f,     0.677377f,     1.378225f,     5.978988f}, // From 9 cells
{    0.997366f,     0.989584f,    16.654421f,     0.737552f,     1.483592f,     6.492198f}, // From 4 cells
{    0.998716f,     0.986777f,    14.502459f,     0.508944f,     1.605981f,     3.429895f}, // From 2 cells
{    1.001731f,     0.986526f,    16.104652f,     0.719896f,     1.541862f,     5.765680f}, // From 3 cells
{    1.002048f,     1.010886f,    17.683334f,     0.640061f,     1.234118f,     6.553597f}, // From 13 cells
{    1.002582f,     0.954672f,    12.731375f,     0.680478f,     1.194384f,     3.016672f}, // From 4 cells
{    1.003588f,     1.037142f,    19.966883f,     0.616467f,     1.124738f,     7.771555f}, // From 2 cells
{    1.006821f,     1.010306f,    18.278946f,     0.502602f,     0.959255f,     4.495266f}, // From 1568 cells
{    1.007953f,     1.012715f,    18.509880f,     0.780365f,     1.514240f,     6.983248f}, // From 6 cells
{    1.011162f,     0.942986f,    13.227957f,     0.584470f,     1.063070f,     4.035867f}, // From 4 cells
{    1.012614f,     1.039407f,    20.860374f,     0.435973f,     0.715195f,     2.748090f}, // From 3 cells
{    1.014979f,     1.045312f,    20.267607f,     0.828210f,     1.593837f,     5.249835f}, // From 2 cells
{    1.015250f,     1.054515f,    21.756948f,     0.628822f,     0.978963f,     7.488948f}, // From 4 cells
{    1.015704f,     1.041454f,    20.311853f,     0.662973f,     1.263956f,     8.308781f}, // From 6 cells
{    1.015735f,     1.032001f,    17.807484f,     0.708624f,     1.109130f,     7.784347f}, // From 5 cells
{    1.017834f,     1.060972f,    22.326933f,     0.461050f,     0.932780f,     6.983396f}, // From 7 cells
{    1.018168f,     1.085423f,    22.305441f,     0.616452f,     1.196448f,     8.731297f}, // From 4 cells
{    1.019122f,     1.063466f,    21.077963f,     0.663611f,     1.008632f,     7.866980f}, // From 4 cells
{    1.023378f,     1.075210f,    23.408812f,     0.466300f,     0.907960f,     7.499009f}, // From 4 cells
{    1.027906f,     1.060830f,    23.171400f,     0.501765f,     0.994084f,     6.714869f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup9 = 9;
const float occupiedCellGroupsForImgGroup9[9][6] = {
{    0.751421f,     0.712829f,     6.992294f,     0.638578f,     2.336943f,     2.382515f}, // From 2 cells
{    0.752021f,     0.703680f,     6.510863f,     0.753981f,     2.653131f,     1.589108f}, // From 3 cells
{    0.760069f,     0.686210f,     6.700307f,     0.787779f,     1.654647f,     2.145143f}, // From 2 cells
{    0.764778f,     0.718894f,     6.880881f,     0.916822f,     2.588515f,     2.168561f}, // From 4 cells
{    0.764961f,     0.663937f,     6.618858f,     0.956319f,     1.773951f,     1.680521f}, // From 4 cells
{    0.767892f,     0.673521f,     6.862988f,     0.671896f,     1.958442f,     2.001936f}, // From 5 cells
{    0.769393f,     0.726206f,     7.524439f,     0.530583f,     1.336733f,     2.068939f}, // From 2 cells
{    0.770615f,     0.669590f,     6.698450f,     0.808459f,     1.247516f,     1.602056f}, // From 4 cells
{    0.780025f,     0.703702f,     7.025864f,     0.661832f,     1.458019f,     1.574449f}, // From 8 cells
};

const int nUnoccupiedCellGroupsForImgGroup10 = 0;
const int nOccupiedCellGroupsForImgGroup10 = 24;
const float occupiedCellGroupsForImgGroup10[24][6] = {
{    0.652199f,     1.143814f,     3.542497f,     0.562894f,     1.104040f,     1.018653f}, // From 2 cells
{    0.792420f,     1.059465f,     3.953984f,     0.509126f,     1.037031f,     1.399501f}, // From 4 cells
{    0.828636f,     1.040078f,     3.681437f,     1.200784f,     1.064340f,     1.337495f}, // From 7 cells
{    0.853988f,     1.039929f,     4.075510f,     0.810046f,     1.547247f,     1.185841f}, // From 2 cells
{    0.907066f,     1.035142f,     3.474702f,     1.033085f,     1.022854f,     1.511141f}, // From 6 cells
{    0.926945f,     0.996615f,     3.591410f,     1.377318f,     1.242615f,     1.349955f}, // From 7 cells
{    0.938536f,     1.081834f,     3.661236f,     1.491832f,     0.792603f,     0.820696f}, // From 2 cells
{    0.980239f,     0.997938f,     3.711241f,     0.982100f,     0.997436f,     0.984400f}, // From 1592 cells
{    1.006305f,     0.957059f,     3.875083f,     0.956959f,     1.027584f,     1.519660f}, // From 2 cells
{    1.026068f,     0.928531f,     3.517452f,     1.124534f,     1.493169f,     0.896526f}, // From 4 cells
{    1.041468f,     0.958111f,     3.634270f,     1.321685f,     1.184667f,     1.643658f}, // From 3 cells
{    1.051715f,     0.973212f,     3.642914f,     1.616282f,     1.001724f,     1.043867f}, // From 20 cells
{    1.067049f,     1.037236f,     4.081097f,     1.153739f,     0.808491f,     1.223319f}, // From 2 cells
{    1.105488f,     0.986255f,     3.584478f,     1.436933f,     1.393783f,     1.134389f}, // From 3 cells
{    1.169809f,     0.821730f,     3.564209f,     1.860484f,     1.107229f,     1.099073f}, // From 2 cells
{    1.179977f,     0.858610f,     3.085579f,     1.027065f,     0.895876f,     0.856125f}, // From 3 cells
{    1.195148f,     0.984378f,     3.329624f,     1.441143f,     0.804681f,     1.305238f}, // From 2 cells
{    1.197273f,     0.970670f,     3.475019f,     1.917870f,     0.955132f,     0.883577f}, // From 5 cells
{    1.237289f,     0.836940f,     3.156409f,     1.925331f,     0.868987f,     0.901604f}, // From 2 cells
{    1.238070f,     0.956867f,     3.605387f,     1.547123f,     0.811247f,     1.197236f}, // From 2 cells
{    1.264773f,     0.838156f,     3.390227f,     1.568657f,     1.073252f,     0.862495f}, // From 2 cells
{    1.276855f,     1.001047f,     3.343076f,     1.307301f,     1.231390f,     0.957762f}, // From 6 cells
{    1.303115f,     0.946987f,     3.442272f,     1.681557f,     1.064221f,     1.201454f}, // From 9 cells
{    1.304950f,     0.956709f,     3.220537f,     1.375360f,     1.075317f,     0.826156f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup11 = 24;
const float unoccupiedCellGroupsForImgGroup11[24][6] = {
{    0.984357f,     7.473544f,     0.438717f,     3.502645f,    12.288149f,    15.222308f}, // From 4 cells
{    0.990992f,     7.971745f,     0.489855f,     2.275337f,    10.312212f,    14.645093f}, // From 2 cells
{    0.991190f,     7.651831f,     0.456055f,     3.062417f,    10.657161f,    10.305169f}, // From 8 cells
{    0.993085f,     7.596896f,     0.527525f,     6.202462f,     9.530346f,    29.400518f}, // From 2 cells
{    0.993385f,     7.236511f,     0.415975f,     2.433293f,     5.700817f,     7.032764f}, // From 5 cells
{    0.996807f,     7.784791f,     0.517968f,     2.585881f,    11.048068f,    21.506828f}, // From 4 cells
{    0.998213f,     8.047820f,     0.571549f,     2.493634f,    10.385244f,    17.861387f}, // From 3 cells
{    1.000136f,     8.131799f,     0.576925f,     2.992813f,     6.454545f,    32.097679f}, // From 3 cells
{    1.000241f,     7.869788f,     0.548534f,     3.059915f,     6.511563f,    17.389606f}, // From 1197 cells
{    1.001390f,     8.075538f,     0.549930f,     4.524527f,    12.325263f,    30.411102f}, // From 5 cells
{    1.001660f,     7.715326f,     0.516962f,     3.838166f,     9.336034f,    29.432226f}, // From 2 cells
{    1.004296f,     7.851671f,     0.623343f,     3.507259f,     5.067411f,    33.707588f}, // From 4 cells
{    1.005009f,     8.160762f,     0.576976f,     4.112980f,    10.160403f,    27.732790f}, // From 7 cells
{    1.006241f,     8.724632f,     0.567882f,     2.235133f,     3.577615f,     8.179801f}, // From 3 cells
{    1.006867f,     8.021808f,     0.583738f,     3.808020f,     7.882454f,    30.128452f}, // From 10 cells
{    1.008648f,     7.794508f,     0.414399f,     3.436689f,    16.384768f,    25.628313f}, // From 2 cells
{    1.010364f,     7.868464f,     0.474628f,     5.262514f,    16.210617f,    18.700340f}, // From 2 cells
{    1.011322f,     8.237545f,     0.705472f,     2.445994f,     5.347788f,    31.035980f}, // From 4 cells
{    1.011497f,     7.897189f,     0.569287f,     2.602592f,     8.982012f,    32.647514f}, // From 2 cells
{    1.013234f,     7.834786f,     0.586613f,     4.558694f,     7.139620f,    25.160576f}, // From 5 cells
{    1.013750f,     8.226591f,     0.562374f,     4.286829f,    10.606660f,    29.765583f}, // From 2 cells
{    1.013862f,     8.112914f,     0.627131f,     2.991381f,     5.690745f,    28.926094f}, // From 9 cells
{    1.014612f,     8.280119f,     0.635915f,     3.595516f,     8.730531f,    34.833019f}, // From 6 cells
{    1.019303f,     8.210584f,     0.590618f,     5.682885f,    10.785154f,    43.552353f}, // From 3 cells
};
const int nOccupiedCellGroupsForImgGroup11 = 1;
const float occupiedCellGroupsForImgGroup11[1][6] = {
{    0.974607f,     6.965132f,     0.189500f,     8.514116f,    34.927082f,     9.105746f}, // From 5 cells
};

const int nUnoccupiedCellGroupsForImgGroup12 = 24;
const float unoccupiedCellGroupsForImgGroup12[24][6] = {
{    0.945689f,     0.899629f,     0.783204f,     2.647054f,     1.571752f,     0.301893f}, // From 2 cells
{    0.947889f,     0.932380f,     1.093629f,     1.879453f,     1.352042f,     0.446307f}, // From 8 cells
{    0.948329f,     0.898509f,     0.781638f,     2.642131f,     1.987527f,     0.304048f}, // From 6 cells
{    0.948443f,     0.949786f,     0.937245f,     3.066040f,     1.742578f,     0.343086f}, // From 5 cells
{    0.950770f,     0.891670f,     0.694287f,     2.342189f,     1.982656f,     0.277014f}, // From 3 cells
{    0.958273f,     0.936398f,     1.022516f,     2.123995f,     1.594925f,     0.456698f}, // From 3 cells
{    0.961141f,     0.921604f,     1.157617f,     1.126417f,     1.349728f,     0.448973f}, // From 3 cells
{    0.964437f,     0.992728f,     1.003203f,     2.187707f,     1.963246f,     0.446482f}, // From 2 cells
{    0.964553f,     0.926328f,     1.001899f,     1.807563f,     1.707001f,     0.515866f}, // From 2 cells
{    0.968695f,     0.919467f,     0.891347f,     2.288393f,     2.271886f,     0.476564f}, // From 6 cells
{    0.970642f,     0.948889f,     1.198841f,     1.352240f,     0.968255f,     0.409405f}, // From 3 cells
{    0.971496f,     0.943874f,     0.825912f,     1.980441f,     1.571751f,     0.362666f}, // From 4 cells
{    0.971565f,     0.890635f,     0.662060f,     1.922903f,     1.850408f,     0.189595f}, // From 2 cells
{    0.973415f,     0.926813f,     0.787390f,     1.997390f,     1.870770f,     0.363419f}, // From 5 cells
{    0.980506f,     0.921902f,     0.684264f,     2.639104f,     2.450119f,     0.467665f}, // From 3 cells
{    0.988264f,     1.002303f,     1.157986f,     0.655708f,     1.473450f,     0.054041f}, // From 4 cells
{    0.993816f,     0.999327f,     1.135898f,     1.641746f,     1.570526f,     0.137613f}, // From 2 cells
{    1.000812f,     1.001576f,     1.001378f,     0.973022f,     0.977875f,     0.186994f}, // From 2543 cells
{    1.003408f,     0.911893f,     0.651753f,     1.769726f,     2.360393f,     0.411193f}, // From 3 cells
{    1.005215f,     0.999144f,     0.824428f,     1.274573f,     1.813826f,     0.493290f}, // From 2 cells
{    1.020773f,     1.027002f,     0.908599f,     1.470497f,     2.008367f,     0.522031f}, // From 2 cells
{    1.024355f,     1.017899f,     1.405819f,     0.482547f,     1.071671f,     0.046934f}, // From 4 cells
{    1.026968f,     1.042617f,     0.987356f,     0.824542f,     1.515492f,     0.416362f}, // From 3 cells
{    1.028536f,     1.072743f,     1.337944f,     1.378955f,     1.363001f,     0.345292f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup12 = 0;

const int nUnoccupiedCellGroupsForImgGroup13 = 24;
const float unoccupiedCellGroupsForImgGroup13[24][6] = {
{    0.968204f,     0.980862f,    19.863266f,     7.922573f,     1.934767f,     5.733318f}, // From 2 cells
{    0.983941f,     0.972517f,    17.533003f,     9.079412f,     1.776536f,     4.355065f}, // From 3 cells
{    0.986196f,     0.945983f,    16.492273f,     7.383933f,     1.155397f,     2.743202f}, // From 7 cells
{    0.988068f,     1.014462f,    18.779633f,     6.712860f,     1.498693f,     4.208958f}, // From 2 cells
{    0.991281f,     1.017590f,    22.467644f,     7.084764f,     1.842196f,     6.445948f}, // From 6 cells
{    0.991351f,     0.939922f,    14.981691f,     6.308183f,     1.508221f,     3.203876f}, // From 7 cells
{    0.992160f,     0.964926f,    16.171253f,     6.818409f,     1.868440f,     4.426660f}, // From 3 cells
{    0.992529f,     1.048779f,    22.348677f,     4.672585f,     1.202807f,     3.897570f}, // From 2 cells
{    0.995916f,     0.977495f,    16.928547f,     5.360178f,     1.494256f,     4.005185f}, // From 4 cells
{    0.997286f,     1.017542f,    20.553587f,     6.620296f,     0.905018f,     4.211483f}, // From 3 cells
{    0.997790f,     0.996794f,    20.159037f,     5.889412f,     1.409076f,     4.069867f}, // From 9 cells
{    0.999506f,     0.997040f,    20.894571f,     4.278505f,     0.955598f,     2.461515f}, // From 776 cells
{    1.001639f,     1.039109f,    22.262419f,     5.115220f,     1.651536f,     6.139299f}, // From 4 cells
{    1.004748f,     0.972018f,    17.275951f,     5.665945f,     1.638348f,     5.518353f}, // From 4 cells
{    1.006162f,     0.994642f,    18.949238f,     6.714563f,     2.111102f,     8.010738f}, // From 3 cells
{    1.007716f,     1.069011f,    27.494751f,     4.758598f,     0.882416f,     3.673026f}, // From 2 cells
{    1.009110f,     1.072087f,    27.325071f,     6.263510f,     1.648632f,     5.946898f}, // From 7 cells
{    1.014295f,     1.088720f,    31.846756f,     3.837605f,     0.616626f,     2.127990f}, // From 4 cells
{    1.017210f,     1.051374f,    22.759932f,     3.997997f,     0.892175f,     4.147307f}, // From 2 cells
{    1.018046f,     1.042534f,    26.159466f,     4.402204f,     0.941857f,     3.771554f}, // From 3 cells
{    1.019798f,     1.058436f,    24.978092f,     1.817540f,     0.606143f,     1.930156f}, // From 2 cells
{    1.022731f,     1.080318f,    24.506805f,     4.381721f,     1.637183f,     6.785845f}, // From 4 cells
{    1.024566f,     1.096855f,    32.149727f,     2.785098f,     0.844814f,     2.827506f}, // From 11 cells
{    1.024661f,     1.098634f,    29.334072f,     3.763860f,     1.059535f,     3.917954f}, // From 4 cells
};
const int nOccupiedCellGroupsForImgGroup13 = 0;

const int nUnoccupiedCellGroupsForImgGroup14 = 24;
const float unoccupiedCellGroupsForImgGroup14[24][6] = {
{    2.492389f,     1.692620f,     4.124320f,     8.710238f,     8.897792f,     1.708787f}, // From 2 cells
{    2.499264f,     1.700744f,     4.146964f,     7.022250f,    13.021227f,     1.319016f}, // From 2 cells
{    2.503481f,     1.668900f,     4.189032f,     9.258261f,    14.815987f,     1.621302f}, // From 2 cells
{    2.504924f,     1.715613f,     3.882315f,     4.834480f,    15.934929f,     1.163098f}, // From 4 cells
{    2.507248f,     1.607913f,     3.117615f,     4.287815f,    14.227460f,     0.806648f}, // From 5 cells
{    2.507305f,     1.681216f,     4.313588f,     7.072858f,    16.779190f,     1.681229f}, // From 5 cells
{    2.519243f,     1.704725f,     4.153589f,     7.027742f,     5.244197f,     1.115143f}, // From 2 cells
{    2.540464f,     1.663613f,     4.060503f,     4.444146f,     8.444842f,     1.028170f}, // From 998 cells
{    2.540536f,     1.666545f,     3.628901f,     5.645835f,    13.772493f,     1.166187f}, // From 8 cells
{    2.540985f,     1.744174f,     3.717161f,     8.685785f,    21.709599f,     2.181453f}, // From 4 cells
{    2.546037f,     1.672004f,     3.864925f,     4.623277f,    13.219414f,     1.165220f}, // From 5 cells
{    2.549189f,     1.740052f,     4.479963f,     7.728567f,    15.771709f,     2.248331f}, // From 4 cells
{    2.549898f,     1.797200f,     5.025760f,     6.601605f,    13.654221f,     1.627988f}, // From 4 cells
{    2.550302f,     1.731882f,     4.852794f,     7.236780f,     7.353412f,     1.560850f}, // From 4 cells
{    2.559584f,     1.675786f,     4.046844f,     7.640859f,    14.419300f,     1.456568f}, // From 2 cells
{    2.559785f,     1.747244f,     6.278940f,     6.591900f,     9.108454f,     1.939322f}, // From 2 cells
{    2.590559f,     1.707590f,     3.461431f,     5.959620f,    17.347639f,     1.238188f}, // From 3 cells
{    2.597023f,     1.777016f,     5.483210f,     3.129653f,     9.244110f,     1.350120f}, // From 3 cells
{    2.623293f,     1.758892f,     3.555593f,     5.817476f,    21.314602f,     1.905635f}, // From 5 cells
{    2.663531f,     1.850001f,     2.764318f,     5.344433f,    27.401030f,     1.116476f}, // From 2 cells
{    2.696407f,     1.809992f,     6.423943f,     3.480800f,    10.135397f,     2.485610f}, // From 2 cells
{    2.701328f,     1.806826f,     3.680419f,     3.480800f,    14.594858f,     1.292882f}, // From 3 cells
{    2.737879f,     1.858988f,     6.694839f,     2.869678f,     7.375259f,     1.389051f}, // From 12 cells
{    2.742863f,     1.839867f,     6.480744f,     2.136420f,     4.863658f,     1.007977f}, // From 69 cells
};
const int nOccupiedCellGroupsForImgGroup14 = 24;
const float occupiedCellGroupsForImgGroup14[24][6] = {
{    1.785697f,     1.235950f,     1.539660f,     9.054406f,    23.369656f,     0.488201f}, // From 2 cells
{    1.792155f,     1.218501f,     1.676249f,     4.981917f,    19.730639f,     0.364629f}, // From 3 cells
{    1.797405f,     1.170162f,     1.717683f,     4.831854f,    12.244569f,     0.488627f}, // From 2 cells
{    1.811074f,     1.213616f,     1.729952f,     4.635578f,    16.372108f,     0.393178f}, // From 3 cells
{    1.811584f,     1.168000f,     1.691990f,     4.286736f,     9.820042f,     0.427948f}, // From 2 cells
{    1.818521f,     1.169033f,     1.696794f,     4.847098f,    14.893069f,     0.466485f}, // From 8 cells
{    1.826731f,     1.201824f,     1.717541f,     5.487372f,    10.910797f,     0.416734f}, // From 10 cells
{    1.828025f,     1.191195f,     1.697731f,     4.956103f,    17.574972f,     0.441555f}, // From 4 cells
{    1.829940f,     1.268398f,     1.640312f,     6.384105f,    22.522026f,     0.471100f}, // From 4 cells
{    1.831200f,     1.266351f,     1.672765f,     7.325593f,    20.403469f,     0.421083f}, // From 4 cells
{    1.833148f,     1.197348f,     1.663339f,     5.997818f,    16.625177f,     0.437130f}, // From 14 cells
{    1.833612f,     1.206013f,     1.563021f,     6.909760f,    20.918379f,     0.345201f}, // From 3 cells
{    1.834107f,     1.196403f,     1.666946f,     6.204206f,    20.301273f,     0.401032f}, // From 6 cells
{    1.836661f,     1.224343f,     1.652464f,     7.370425f,    19.145321f,     0.445472f}, // From 5 cells
{    1.843742f,     1.208935f,     1.672428f,     6.243509f,    18.568790f,     0.343223f}, // From 2 cells
{    1.849110f,     1.215605f,     1.699244f,     6.576622f,    14.044232f,     0.490627f}, // From 4 cells
{    1.849720f,     1.209456f,     1.723215f,     5.736051f,    13.686535f,     0.489368f}, // From 3 cells
{    1.849955f,     1.136612f,     1.566406f,     6.718767f,    12.440410f,     0.460347f}, // From 5 cells
{    1.851324f,     1.203629f,     1.519790f,     7.601948f,    26.476212f,     0.408363f}, // From 5 cells
{    1.854378f,     1.105055f,     1.534840f,     7.099478f,    15.274635f,     0.441920f}, // From 2 cells
{    1.859535f,     1.154179f,     1.602966f,     5.865048f,    10.023973f,     0.461169f}, // From 2 cells
{    1.863693f,     1.204480f,     1.677334f,     5.629587f,    12.442305f,     0.360570f}, // From 2 cells
{    1.874426f,     1.194558f,     1.707731f,     3.849338f,    13.281050f,     0.384547f}, // From 2 cells
{    1.933851f,     1.140405f,     1.593116f,     6.048623f,    14.772652f,     0.466196f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup15 = 24;
const float unoccupiedCellGroupsForImgGroup15[24][6] = {
{    1.006350f,     6.870133f,     6.053262f,     1.551411f,     3.736615f,     2.304948f}, // From 7 cells
{    1.006787f,     6.919015f,     6.840483f,     1.355529f,     3.568837f,     2.262746f}, // From 7 cells
{    1.007099f,     7.291582f,     6.086391f,     1.327367f,     4.033889f,     2.575222f}, // From 4 cells
{    1.012290f,     5.458323f,     4.090735f,     1.492084f,     3.972011f,     0.720548f}, // From 3 cells
{    1.012751f,     6.419396f,     4.634158f,     1.490489f,     3.990651f,     1.314975f}, // From 5 cells
{    1.017106f,     6.958967f,     6.134675f,     1.139652f,     3.109913f,     2.740268f}, // From 4 cells
{    1.018627f,     7.218208f,     7.142787f,     1.163177f,     3.110357f,     2.927662f}, // From 5 cells
{    1.022906f,     7.349759f,     6.088437f,     0.838300f,     2.674698f,     1.539996f}, // From 5 cells
{    1.024274f,     7.743167f,     7.373883f,     1.149509f,     2.428764f,     3.069716f}, // From 2 cells
{    1.026281f,     5.079898f,     4.254042f,     1.887605f,     4.797532f,     1.120236f}, // From 3 cells
{    1.029087f,     6.425484f,     5.636024f,     1.341006f,     3.879520f,     2.090602f}, // From 8 cells
{    1.034533f,     6.315401f,     5.517855f,     1.453430f,     3.180995f,     1.558023f}, // From 503 cells
{    1.035938f,     5.045748f,     4.214531f,     2.426906f,     4.513303f,     1.395411f}, // From 6 cells
{    1.037403f,     5.941042f,     4.783399f,     1.564454f,     2.579254f,     1.195806f}, // From 8 cells
{    1.043595f,     5.376073f,     4.322638f,     2.147406f,     3.543540f,     1.280076f}, // From 5 cells
{    1.052239f,     5.436994f,     4.754904f,     1.316430f,     4.775453f,     1.248657f}, // From 6 cells
{    1.056460f,     5.945622f,     5.429976f,     1.746589f,     2.063610f,     1.521756f}, // From 2 cells
{    1.057445f,     6.049450f,     4.390038f,     2.139452f,     3.998278f,     1.412577f}, // From 2 cells
{    1.058743f,     5.478629f,     4.990128f,     2.047769f,     4.927222f,     1.596431f}, // From 6 cells
{    1.059922f,     5.861512f,     5.078537f,     2.013328f,     3.202592f,     2.161821f}, // From 3 cells
{    1.062713f,     5.746878f,     5.310841f,     2.695906f,     4.518675f,     1.772859f}, // From 2 cells
{    1.071637f,     5.934740f,     5.477986f,     1.903448f,     4.433524f,     1.691591f}, // From 19 cells
{    1.087226f,     6.268954f,     6.073693f,     1.799939f,     3.659344f,     1.831788f}, // From 4 cells
{    1.102157f,     6.490331f,     5.964276f,     2.051648f,     4.075609f,     2.296419f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup15 = 24;
const float occupiedCellGroupsForImgGroup15[24][6] = {
{    0.787308f,     3.012045f,     2.306215f,     4.826528f,     6.269485f,     0.768016f}, // From 3 cells
{    0.867611f,     4.273168f,     2.611863f,     3.930568f,     5.505777f,     1.140557f}, // From 2 cells
{    0.872108f,     3.294514f,     2.309041f,     5.772548f,     6.866157f,     0.911066f}, // From 3 cells
{    0.901009f,     3.215771f,     2.314927f,     5.836973f,     5.935522f,     0.732413f}, // From 4 cells
{    0.913552f,     3.525232f,     2.403069f,     5.799092f,     3.297848f,     0.576209f}, // From 3 cells
{    0.918957f,     3.366326f,     2.475991f,     4.825697f,     6.826461f,     0.883092f}, // From 2 cells
{    0.929809f,     3.301098f,     2.503762f,     5.187271f,     3.150150f,     0.733975f}, // From 4 cells
{    0.932978f,     3.507202f,     2.510201f,     3.119513f,     6.566624f,     0.834591f}, // From 7 cells
{    0.933849f,     3.460320f,     2.355412f,     6.933772f,     3.612054f,     0.586262f}, // From 3 cells
{    0.934769f,     4.091835f,     2.608289f,     6.147045f,     5.763968f,     0.721367f}, // From 2 cells
{    0.937277f,     3.583558f,     2.441504f,     6.088339f,     4.127546f,     0.716828f}, // From 12 cells
{    0.943705f,     3.306104f,     2.341065f,     4.138211f,     6.427775f,     0.881184f}, // From 2 cells
{    0.949470f,     4.645296f,     2.644031f,     5.053752f,     6.557157f,     0.774445f}, // From 2 cells
{    0.950533f,     3.305865f,     2.280806f,     7.594154f,     5.475120f,     0.800661f}, // From 5 cells
{    0.951570f,     3.374914f,     2.405213f,     6.051986f,     5.486275f,     0.737390f}, // From 5 cells
{    0.953193f,     3.599207f,     2.547810f,     5.237190f,     6.290196f,     0.977186f}, // From 3 cells
{    0.963256f,     4.008035f,     2.602130f,     3.917601f,     4.672406f,     0.796564f}, // From 476 cells
{    0.966110f,     4.643325f,     2.742769f,     3.949537f,     6.079479f,     0.595309f}, // From 2 cells
{    0.971932f,     4.092952f,     2.636663f,     3.245397f,     3.242512f,     0.696468f}, // From 3 cells
{    0.974293f,     3.786984f,     2.666668f,     4.681273f,     2.746520f,     0.864515f}, // From 3 cells
{    0.976359f,     5.062038f,     2.755706f,     3.268625f,     5.649242f,     0.870415f}, // From 3 cells
{    0.988339f,     4.319969f,     2.601411f,     4.800225f,     6.809279f,     1.002457f}, // From 3 cells
{    0.993671f,     3.573035f,     2.679558f,     6.543651f,     4.904980f,     0.746642f}, // From 2 cells
{    0.996506f,     4.777512f,     2.911016f,     2.096846f,     3.677038f,     0.724593f}, // From 4 cells
};

const int nUnoccupiedCellGroupsForImgGroup16 = 24;
const float unoccupiedCellGroupsForImgGroup16[24][6] = {
{    1.118671f,    13.722079f,     0.912075f,     0.387407f,     0.551776f,     0.500547f}, // From 6 cells
{    1.129322f,    15.583619f,     1.077166f,     0.285567f,     0.572768f,     0.832587f}, // From 2 cells
{    1.129734f,    14.003695f,     0.904522f,     0.277932f,     0.601009f,     0.431640f}, // From 4 cells
{    1.139312f,    14.329090f,     0.848940f,     0.255472f,     0.516445f,     0.402288f}, // From 4 cells
{    1.143192f,    18.113262f,     1.134826f,     0.194279f,     0.483490f,     0.655637f}, // From 2 cells
{    1.151999f,    17.803877f,     1.182071f,     0.321458f,     0.631589f,     0.892632f}, // From 3 cells
{    1.162253f,    17.617752f,     1.064638f,     0.235600f,     0.616360f,     0.710148f}, // From 7 cells
{    1.164577f,    17.627623f,     1.119103f,     0.171597f,     0.476207f,     0.542423f}, // From 4 cells
{    1.165925f,    17.406937f,     1.146849f,     0.272897f,     0.652896f,     0.813131f}, // From 6 cells
{    1.166691f,    13.151361f,     0.827786f,     0.325324f,     0.717552f,     0.445908f}, // From 7 cells
{    1.173081f,    17.859417f,     1.136904f,     0.213785f,     0.606091f,     0.593243f}, // From 2 cells
{    1.228420f,    15.986892f,     1.015799f,     0.302670f,     0.626263f,     0.534130f}, // From 406 cells
{    1.296097f,    13.780252f,     0.893202f,     0.397443f,     0.644865f,     0.398771f}, // From 5 cells
{    1.300740f,    13.461967f,     0.866378f,     0.449481f,     0.919062f,     0.494236f}, // From 6 cells
{    1.305506f,    14.227062f,     0.891049f,     0.487604f,     0.833309f,     0.410386f}, // From 2 cells
{    1.326502f,    15.883317f,     1.039985f,     0.583467f,     0.888256f,     0.623786f}, // From 2 cells
{    1.335095f,    14.046597f,     0.815569f,     0.327882f,     0.789553f,     0.334406f}, // From 8 cells
{    1.342996f,    14.537472f,     0.996783f,     0.416415f,     0.646183f,     0.493927f}, // From 11 cells
{    1.350073f,    14.784247f,     1.084681f,     0.421021f,     0.854534f,     0.538147f}, // From 6 cells
{    1.357402f,    16.406166f,     1.024563f,     0.466791f,     0.976352f,     0.664567f}, // From 3 cells
{    1.369088f,    15.571239f,     1.044269f,     0.427305f,     0.824007f,     0.691822f}, // From 3 cells
{    1.372785f,    17.280527f,     1.092868f,     0.274798f,     0.683217f,     0.411831f}, // From 3 cells
{    1.380874f,    17.815954f,     1.117952f,     0.348021f,     0.667442f,     0.605048f}, // From 6 cells
{    1.383349f,    17.342941f,     1.138858f,     0.356979f,     0.605578f,     0.673838f}, // From 5 cells
};
const int nOccupiedCellGroupsForImgGroup16 = 24;
const float occupiedCellGroupsForImgGroup16[24][6] = {
{    0.252160f,    12.246937f,     0.554145f,     0.533602f,     0.729698f,     0.254050f}, // From 2 cells
{    0.315728f,    10.995762f,     0.485885f,     1.078065f,     0.743467f,     0.394154f}, // From 2 cells
{    0.340385f,    13.143141f,     0.525151f,     0.792994f,     0.878021f,     0.281572f}, // From 4 cells
{    0.345273f,    11.663779f,     0.508768f,     0.969394f,     0.743488f,     0.327099f}, // From 5 cells
{    0.363149f,    12.580025f,     0.547219f,     0.954786f,     0.753476f,     0.332185f}, // From 9 cells
{    0.412806f,    14.417369f,     0.580510f,     1.358900f,     0.775755f,     0.338746f}, // From 10 cells
{    0.420200f,    13.338327f,     0.568166f,     1.300214f,     0.757288f,     0.290345f}, // From 7 cells
{    0.460456f,    13.771071f,     0.561777f,     1.406257f,     0.724766f,     0.326003f}, // From 9 cells
{    0.475353f,    10.483170f,     0.480677f,     1.296606f,     0.843400f,     0.344954f}, // From 3 cells
{    0.509843f,    14.912410f,     0.550480f,     1.786232f,     0.722062f,     0.257846f}, // From 2 cells
{    0.543099f,    13.356918f,     0.529446f,     1.718419f,     1.008108f,     0.350423f}, // From 10 cells
{    0.553617f,    13.677358f,     0.565634f,     2.038791f,     0.717114f,     0.311622f}, // From 8 cells
{    0.598843f,     9.793178f,     0.493662f,     1.759436f,     0.889751f,     0.366815f}, // From 2 cells
{    0.601551f,    15.033772f,     0.601172f,     2.165673f,     0.773444f,     0.372444f}, // From 2 cells
{    0.617373f,    10.727635f,     0.494170f,     1.942473f,     0.683873f,     0.331329f}, // From 7 cells
{    0.644024f,    14.108468f,     0.558966f,     2.277599f,     0.816468f,     0.331583f}, // From 7 cells
{    0.645593f,    12.232882f,     0.519836f,     2.084274f,     0.775650f,     0.331934f}, // From 163 cells
{    0.691328f,    12.130229f,     0.503892f,     2.616308f,     1.129435f,     0.386459f}, // From 4 cells
{    0.760109f,    11.764098f,     0.513638f,     2.043471f,     1.161641f,     0.370586f}, // From 2 cells
{    0.788058f,    13.392817f,     0.549223f,     2.896851f,     0.963388f,     0.339706f}, // From 5 cells
{    0.791975f,    11.757354f,     0.494606f,     2.772266f,     0.986016f,     0.343031f}, // From 9 cells
{    0.802200f,    13.628744f,     0.532487f,     2.512847f,     0.608397f,     0.247470f}, // From 3 cells
{    0.810291f,    10.685072f,     0.467313f,     2.542237f,     0.741057f,     0.334444f}, // From 3 cells
{    0.858227f,    12.293697f,     0.523267f,     3.233898f,     0.897458f,     0.339237f}, // From 7 cells
};

const int nUnoccupiedCellGroupsForImgGroup17 = 24;
const float unoccupiedCellGroupsForImgGroup17[24][6] = {
{    4.190353f,     1.898471f,     1.533261f,     1.780767f,     2.348596f,     1.902827f}, // From 2 cells
{    4.218429f,     2.020543f,     1.703769f,     1.846243f,     2.632378f,     2.412079f}, // From 5 cells
{    4.232528f,     1.831411f,     1.449830f,     2.012761f,     2.279691f,     1.648200f}, // From 4 cells
{    4.249459f,     1.806718f,     1.357234f,     2.593955f,     3.073688f,     1.800168f}, // From 2 cells
{    4.253667f,     1.857210f,     1.393331f,     1.859446f,     3.003899f,     1.590269f}, // From 6 cells
{    5.408173f,     1.720313f,     1.286236f,     1.973523f,     2.245201f,     1.631322f}, // From 3 cells
{    5.425881f,     1.736938f,     1.363081f,     2.297822f,     2.698901f,     2.670150f}, // From 5 cells
{    5.472164f,     1.779632f,     1.473735f,     2.132616f,     2.739772f,     1.864095f}, // From 6 cells
{    5.487323f,     1.702061f,     1.349546f,     2.627361f,     3.864242f,     3.158946f}, // From 3 cells
{    5.499127f,     1.798606f,     1.470945f,     1.649605f,     2.708996f,     2.124429f}, // From 2 cells
{    5.500469f,     1.691338f,     1.215915f,     3.138206f,     2.953621f,     2.199473f}, // From 3 cells
{    5.522930f,     1.823653f,     1.475543f,     2.150510f,     3.021049f,     2.760296f}, // From 7 cells
{    5.525186f,     1.800060f,     1.455761f,     1.951077f,     2.425434f,     2.572238f}, // From 8 cells
{    5.536153f,     1.847239f,     1.563227f,     1.708822f,     2.048178f,     3.535531f}, // From 3 cells
{    5.540446f,     1.857887f,     1.610013f,     2.266604f,     2.172144f,     2.934632f}, // From 3 cells
{    5.540822f,     1.857582f,     1.476997f,     1.793853f,     1.876235f,     1.941540f}, // From 5 cells
{    5.551312f,     1.784575f,     1.356306f,     2.397862f,     2.142087f,     2.070125f}, // From 6 cells
{    5.556678f,     1.742481f,     1.305479f,     1.748663f,     2.265910f,     1.942686f}, // From 2 cells
{    5.561911f,     1.730618f,     1.356664f,     2.314359f,     2.831524f,     2.187466f}, // From 2 cells
{    5.589881f,     1.701073f,     1.340407f,     2.155948f,     2.421443f,     2.106828f}, // From 4 cells
{    5.599137f,     1.689722f,     1.214860f,     1.954557f,     3.429281f,     2.234540f}, // From 4 cells
{    5.609239f,     1.941221f,     1.529834f,     2.275554f,     2.619516f,     3.697080f}, // From 5 cells
{    5.632742f,     1.878572f,     1.498987f,     1.858364f,     1.952111f,     2.595160f}, // From 3 cells
{    5.632742f,     1.914505f,     1.542625f,     1.878012f,     2.414324f,     2.240679f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup17 = 24;
const float occupiedCellGroupsForImgGroup17[24][6] = {
{    1.169967f,     1.310318f,     0.792262f,     4.760418f,     3.027024f,     1.431466f}, // From 4 cells
{    1.207641f,     1.396154f,     0.721533f,     5.468474f,     4.537357f,     1.240479f}, // From 4 cells
{    1.555714f,     1.234297f,     0.748501f,     6.442670f,     4.116513f,     2.018330f}, // From 3 cells
{    2.094691f,     1.370577f,     0.799813f,     7.460308f,     3.405595f,     2.120663f}, // From 5 cells
{    2.455952f,     1.252361f,     0.709807f,    14.005887f,     5.820307f,     1.516977f}, // From 2 cells
{    2.614167f,     1.213748f,     0.722171f,    13.615425f,     3.730115f,     1.436357f}, // From 691 cells
{    2.744323f,     1.275085f,     0.732360f,    16.238503f,     5.284214f,     1.527385f}, // From 7 cells
{    3.048873f,     1.013105f,     0.688730f,    21.058807f,     4.541362f,     1.450158f}, // From 2 cells
{    3.051090f,     1.251345f,     0.770721f,    14.928436f,     3.959323f,     2.374068f}, // From 3 cells
{    3.219307f,     0.972706f,     0.677918f,    16.287222f,     5.730041f,     1.321792f}, // From 5 cells
{    3.290864f,     1.281850f,     0.837520f,    19.627434f,     2.030777f,     1.534992f}, // From 2 cells
{    3.332178f,     0.914686f,     0.661077f,    10.233989f,     3.972150f,     0.779783f}, // From 2 cells
{    3.382052f,     1.152637f,     0.691326f,    18.607954f,     4.426118f,     1.529260f}, // From 19 cells
{    3.452482f,     1.105943f,     0.734662f,    20.133539f,     4.057755f,     1.848878f}, // From 5 cells
{    3.674409f,     1.200693f,     0.731710f,    22.533216f,     3.867154f,     1.682959f}, // From 2 cells
{    3.715406f,     1.208370f,     0.712699f,    20.594101f,     3.031489f,     1.567283f}, // From 3 cells
{    3.798760f,     1.166179f,     0.722488f,    13.105968f,     2.917812f,     1.506339f}, // From 2 cells
{    3.873583f,     0.981712f,     0.669136f,    20.073444f,     3.325455f,     1.175323f}, // From 2 cells
{    4.151444f,     1.223102f,     0.769953f,    17.132971f,     2.523622f,     1.584931f}, // From 3 cells
{    4.433027f,     1.172453f,     0.785155f,    23.529999f,     2.702525f,     1.481779f}, // From 2 cells
{    4.438260f,     1.184165f,     0.756647f,    21.463148f,     3.479687f,     1.540723f}, // From 3 cells
{    4.486152f,     1.223901f,     0.718840f,    18.105539f,     3.466169f,     1.846084f}, // From 2 cells
{    4.503726f,     1.385392f,     0.818098f,    19.964451f,     2.760050f,     1.783593f}, // From 3 cells
{    4.570894f,     1.053432f,     0.705962f,    14.503229f,     4.499528f,     1.409315f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup18 = 24;
const float unoccupiedCellGroupsForImgGroup18[24][6] = {
{    0.985837f,     0.846253f,     4.045133f,     0.755287f,     1.484489f,     5.436069f}, // From 3 cells
{    0.992141f,     1.142891f,    12.423493f,     0.336247f,     0.826531f,     3.288940f}, // From 18 cells
{    0.995242f,     1.157423f,    13.476854f,     0.294469f,     0.642516f,     2.754241f}, // From 10 cells
{    0.995416f,     1.160506f,    11.983366f,     0.415840f,     0.983275f,     5.364841f}, // From 5 cells
{    0.995708f,     1.147257f,    11.268256f,     0.388364f,     0.709115f,     3.233946f}, // From 5 cells
{    0.996290f,     1.156749f,    12.388611f,     0.425278f,     0.927308f,     4.319382f}, // From 2 cells
{    0.997100f,     1.072060f,     6.406145f,     0.410237f,     1.029471f,     5.129584f}, // From 5 cells
{    1.000197f,     1.181299f,    15.206874f,     0.290288f,     0.668976f,     2.080079f}, // From 6 cells
{    1.000221f,     1.155062f,    13.367574f,     0.305519f,     0.563553f,     3.892525f}, // From 2 cells
{    1.000685f,     1.177452f,    14.466315f,     0.336700f,     0.746647f,     3.328653f}, // From 27 cells
{    1.002251f,     1.068040f,     4.754483f,     0.629021f,     1.422164f,     3.747391f}, // From 3 cells
{    1.004671f,     1.099747f,     8.171408f,     0.357763f,     0.908993f,     5.795151f}, // From 4 cells
{    1.009301f,     1.199803f,     7.569233f,     0.655686f,     1.481371f,     5.772089f}, // From 2 cells
{    1.009830f,     1.181849f,    13.506330f,     0.339505f,     0.877314f,     4.939340f}, // From 5 cells
{    1.010898f,     1.178750f,    14.685638f,     0.346633f,     0.798391f,     5.079367f}, // From 3 cells
{    1.012014f,     1.185173f,    11.004643f,     0.368683f,     0.830396f,     4.274494f}, // From 4 cells
{    1.012305f,     1.214863f,    13.777672f,     0.475301f,     1.171007f,     6.064073f}, // From 4 cells
{    1.012742f,     0.945990f,     4.042907f,     0.790316f,     1.591192f,     4.585520f}, // From 2 cells
{    1.014389f,     0.892604f,     3.430012f,     0.755518f,     1.521076f,     2.864806f}, // From 3 cells
{    1.017330f,     1.181929f,     9.743967f,     0.617045f,     1.249450f,     5.887048f}, // From 3 cells
{    1.020050f,     1.152635f,     7.705648f,     0.470000f,     1.107114f,     3.171356f}, // From 1178 cells
{    1.026198f,     1.201436f,     9.868990f,     0.545124f,     1.207129f,     5.039791f}, // From 14 cells
{    1.030851f,     1.148741f,     7.104136f,     0.625827f,     1.773766f,     5.187927f}, // From 5 cells
{    1.034173f,     1.169732f,     8.561889f,     0.645377f,     1.795300f,     5.994619f}, // From 7 cells
};
const int nOccupiedCellGroupsForImgGroup18 = 24;
const float occupiedCellGroupsForImgGroup18[24][6] = {
{    0.874934f,     0.607324f,     1.833511f,     1.497218f,     1.697412f,     1.239435f}, // From 3 cells
{    0.887286f,     0.483740f,     1.528825f,     2.054416f,     1.634210f,     1.485142f}, // From 8 cells
{    0.890910f,     0.549879f,     2.692425f,     3.408416f,     1.599370f,     1.239379f}, // From 3 cells
{    0.896265f,     0.526383f,     1.555259f,     3.486625f,     2.566667f,     0.977058f}, // From 3 cells
{    0.897431f,     0.623154f,     2.955142f,     1.804821f,     2.469561f,     1.696704f}, // From 4 cells
{    0.900646f,     0.710526f,     2.603267f,     1.381436f,     1.943604f,     0.638487f}, // From 2 cells
{    0.901940f,     0.548716f,     1.756118f,     2.969484f,     1.730695f,     2.127007f}, // From 7 cells
{    0.924573f,     0.633463f,     2.436794f,     2.270950f,     1.992033f,     0.922419f}, // From 5 cells
{    0.926280f,     0.593425f,     1.641928f,     2.357271f,     2.989686f,     1.051884f}, // From 91 cells
{    0.932375f,     0.407373f,     1.537642f,     4.332068f,     2.282582f,     1.748079f}, // From 4 cells
{    0.934054f,     0.531769f,     1.572364f,     2.872641f,     1.550225f,     1.271776f}, // From 111 cells
{    0.937980f,     0.385422f,     1.507986f,     3.251701f,     2.389797f,     1.697263f}, // From 2 cells
{    0.941948f,     0.363562f,     1.462453f,     5.040764f,     1.800262f,     1.355947f}, // From 4 cells
{    0.947595f,     0.402719f,     1.495620f,     3.810948f,     1.695986f,     1.284945f}, // From 20 cells
{    0.955792f,     0.678194f,     3.261710f,     1.962279f,     2.346583f,     2.212346f}, // From 5 cells
{    0.966717f,     0.671070f,     2.879139f,     1.769757f,     1.989678f,     1.175309f}, // From 217 cells
{    0.971794f,     0.374733f,     1.453166f,     4.271890f,     1.736948f,     1.336467f}, // From 4 cells
{    0.975403f,     0.700451f,     2.673103f,     1.677219f,     2.755825f,     0.711024f}, // From 6 cells
{    0.976054f,     0.630929f,     1.657092f,     1.677479f,     2.307867f,     0.878438f}, // From 2 cells
{    0.984511f,     0.590028f,     2.502101f,     3.161289f,     2.331599f,     0.960244f}, // From 5 cells
{    0.987231f,     0.757758f,     2.841948f,     1.549118f,     3.061100f,     1.325012f}, // From 9 cells
{    0.990266f,     0.660171f,     2.668704f,     2.447374f,     2.988938f,     1.182163f}, // From 7 cells
{    1.006932f,     0.809018f,     3.132782f,     0.957060f,     1.811486f,     0.988951f}, // From 3 cells
{    1.046736f,     0.830818f,     3.017467f,     1.384386f,     1.710776f,     1.877367f}, // From 5 cells
};

const int nUnoccupiedCellGroupsForImgGroup19 = 0;
const int nOccupiedCellGroupsForImgGroup19 = 24;
const float occupiedCellGroupsForImgGroup19[24][6] = {
{    0.937030f,     0.978703f,     1.015402f,     0.528525f,     1.356107f,     6.446190f}, // From 3 cells
{    0.964481f,     1.001765f,     1.007331f,     0.599203f,     1.074245f,     4.788614f}, // From 7 cells
{    0.976474f,     1.047468f,     1.017748f,     0.631783f,     0.975824f,    10.576235f}, // From 6 cells
{    0.979604f,     0.876213f,     0.926342f,     0.924965f,     0.894377f,     8.050170f}, // From 2 cells
{    0.992535f,     0.922267f,     0.945858f,     0.970055f,     1.289862f,     9.553027f}, // From 5 cells
{    0.997172f,     1.004944f,     1.004595f,     0.634039f,     0.994786f,     7.443266f}, // From 747 cells
{    0.998625f,     0.996514f,     1.008970f,     0.656153f,     1.199508f,    11.373431f}, // From 8 cells
{    1.001451f,     0.993971f,     0.985809f,     0.691790f,     0.791613f,     9.321018f}, // From 12 cells
{    1.001835f,     0.834214f,     0.888862f,     0.679035f,     0.873765f,     4.919082f}, // From 2 cells
{    1.005480f,     1.047224f,     1.070863f,     0.852722f,     1.466455f,     7.701252f}, // From 2 cells
{    1.006027f,     0.993500f,     0.981442f,     0.650956f,     0.965320f,     5.369676f}, // From 49 cells
{    1.008951f,     0.840312f,     0.909006f,     1.119038f,     1.203511f,     5.169408f}, // From 3 cells
{    1.012230f,     0.987778f,     0.972294f,     0.733138f,     1.250309f,    10.223000f}, // From 3 cells
{    1.013553f,     1.021989f,     1.074606f,     0.621781f,     1.470168f,     7.123307f}, // From 3 cells
{    1.033160f,     0.866565f,     0.877913f,     1.092341f,     0.906447f,     7.540700f}, // From 4 cells
{    1.034953f,     0.985185f,     1.019938f,     0.558003f,     1.611320f,     9.015337f}, // From 2 cells
{    1.061213f,     1.152966f,     1.034441f,     0.383093f,     0.638854f,     6.098564f}, // From 2 cells
{    1.067513f,     0.913977f,     0.982815f,     0.962044f,     1.118378f,     9.801592f}, // From 2 cells
{    1.090909f,     0.956597f,     0.973874f,     0.987844f,     1.046123f,     7.786348f}, // From 2 cells
{    1.094138f,     0.896694f,     0.920179f,     0.690361f,     1.374759f,     7.415177f}, // From 2 cells
{    1.100848f,     0.816891f,     0.858025f,     0.721884f,     0.892326f,     6.537810f}, // From 2 cells
{    1.112702f,     0.865648f,     0.905466f,     0.833607f,     0.798779f,     7.746073f}, // From 2 cells
{    1.170539f,     0.862125f,     0.803249f,     1.004309f,     0.988456f,     5.971733f}, // From 2 cells
{    1.379061f,     0.712500f,     0.745465f,     1.491936f,     0.901319f,     7.225468f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup20 = 24;
const float unoccupiedCellGroupsForImgGroup20[24][6] = {
{    0.954922f,     0.810678f,     0.804605f,     0.659604f,     1.975506f,     3.356475f}, // From 2 cells
{    1.003723f,     0.982844f,     0.924073f,     0.431613f,     2.536184f,     5.066984f}, // From 2 cells
{    1.008331f,     0.937811f,     0.941731f,     0.599828f,     2.096303f,     4.152855f}, // From 2 cells
{    1.008953f,     1.001020f,     1.015234f,     0.587218f,     1.629315f,     6.480081f}, // From 4 cells
{    1.010413f,     0.947131f,     0.811473f,     0.359134f,     1.652548f,     2.240659f}, // From 4 cells
{    1.011944f,     1.054860f,     1.107515f,     0.372405f,     2.309514f,     3.393798f}, // From 2 cells
{    1.013243f,     0.939436f,     0.830841f,     0.423418f,     1.037642f,     2.013326f}, // From 5 cells
{    1.018204f,     1.039368f,     1.006642f,     0.474539f,     1.582273f,     6.855049f}, // From 5 cells
{    1.021639f,     1.010482f,     0.959445f,     0.377026f,     2.407189f,     3.032794f}, // From 4 cells
{    1.025224f,     1.083848f,     1.143589f,     0.516383f,     2.170950f,     8.995067f}, // From 5 cells
{    1.025237f,     1.040416f,     1.066782f,     0.386331f,     1.466045f,     4.394394f}, // From 1060 cells
{    1.025838f,     1.092557f,     1.060709f,     0.457155f,     2.203937f,     7.478700f}, // From 4 cells
{    1.026176f,     1.088531f,     1.147062f,     0.530718f,     2.544398f,     5.618286f}, // From 2 cells
{    1.027696f,     1.081951f,     1.070534f,     0.382414f,     2.080250f,     6.482166f}, // From 10 cells
{    1.028267f,     1.078826f,     1.104926f,     0.419935f,     2.384117f,     6.173141f}, // From 5 cells
{    1.028788f,     1.096876f,     1.191888f,     0.463875f,     1.940297f,     6.883511f}, // From 6 cells
{    1.031516f,     1.074429f,     1.151710f,     0.407471f,     1.243101f,     7.399261f}, // From 9 cells
{    1.033639f,     1.055257f,     1.082539f,     0.411179f,     1.578226f,     7.143940f}, // From 4 cells
{    1.035429f,     1.078130f,     1.164571f,     0.421245f,     1.536762f,     8.239580f}, // From 6 cells
{    1.036313f,     1.103707f,     1.201592f,     0.466554f,     1.631821f,     7.848682f}, // From 5 cells
{    1.038298f,     1.094443f,     1.203645f,     0.355332f,     1.762048f,     7.473537f}, // From 3 cells
{    1.038826f,     1.037394f,     0.903819f,     0.285586f,     0.757121f,     2.822927f}, // From 2 cells
{    1.048689f,     1.088121f,     1.344963f,     0.197354f,     0.665474f,     3.999306f}, // From 2 cells
{    1.048833f,     1.062461f,     1.271532f,     0.282156f,     1.443649f,     7.391388f}, // From 2 cells
};
const int nOccupiedCellGroupsForImgGroup20 = 16;
const float occupiedCellGroupsForImgGroup20[16][6] = {
{    0.390190f,     0.485418f,     0.241003f,     2.882256f,     2.533645f,     2.449202f}, // From 3 cells
{    0.417546f,     0.515732f,     0.253121f,     3.883781f,     2.646208f,     1.972052f}, // From 2 cells
{    0.439575f,     0.457297f,     0.256980f,     4.448406f,     2.557864f,     2.501232f}, // From 2 cells
{    0.488673f,     0.479237f,     0.243613f,     4.953482f,     2.162790f,     1.779796f}, // From 2 cells
{    0.561432f,     0.463999f,     0.250436f,     5.291446f,     2.891151f,     2.711889f}, // From 3 cells
{    0.860596f,     0.528872f,     0.237792f,     1.106095f,     4.884440f,     1.854817f}, // From 3 cells
{    0.869392f,     0.579962f,     0.239306f,     1.477862f,     4.245153f,     1.307129f}, // From 2 cells
{    0.875100f,     0.603094f,     0.254608f,     1.080029f,     3.969326f,     1.548313f}, // From 2 cells
{    0.876390f,     0.560580f,     0.244798f,     1.774310f,     4.542099f,     1.634880f}, // From 5 cells
{    0.880512f,     0.567814f,     0.239683f,     1.581709f,     3.892827f,     1.789927f}, // From 5 cells
{    0.882106f,     0.610361f,     0.245035f,     1.701661f,     3.012281f,     1.778729f}, // From 4 cells
{    0.883051f,     0.558883f,     0.241839f,     1.612046f,     3.914107f,     2.139428f}, // From 8 cells
{    0.884218f,     0.637820f,     0.251533f,     1.276621f,     2.873559f,     2.284784f}, // From 2 cells
{    0.889778f,     0.589004f,     0.247062f,     1.045851f,     3.017399f,     1.856252f}, // From 2 cells
{    0.893015f,     0.590298f,     0.242543f,     1.233147f,     2.398045f,     1.455715f}, // From 3 cells
{    0.912017f,     0.559659f,     0.242590f,     1.050225f,     3.655788f,     2.295551f}, // From 2 cells
};

const int nUnoccupiedCellGroupsForImgGroup21 = 24;
const float unoccupiedCellGroupsForImgGroup21[24][6] = {
{    1.916015f,     4.695218f,    13.834360f,     0.247460f,     1.411841f,     0.359389f}, // From 2 cells
{    1.941221f,     5.013918f,    15.672596f,     0.206485f,     1.905228f,     0.665459f}, // From 4 cells
{    1.946469f,     4.893816f,    14.483229f,     0.187578f,     1.653256f,     0.460431f}, // From 4 cells
{    1.961178f,     5.411408f,    18.365791f,     0.182935f,     1.534381f,     0.741559f}, // From 5 cells
{    1.964216f,     5.573611f,    18.718414f,     0.181486f,     1.870503f,     0.702282f}, // From 6 cells
{    1.965045f,     4.692366f,    13.158320f,     0.196926f,     1.791360f,     0.325218f}, // From 3 cells
{    1.970938f,     5.737584f,    18.124641f,     0.151028f,     1.652194f,     0.615478f}, // From 3 cells
{    1.979616f,     5.694254f,    18.576801f,     0.146545f,     1.339337f,     0.673609f}, // From 4 cells
{    1.981166f,     5.640615f,    20.287790f,     0.156503f,     1.341003f,     0.685000f}, // From 11 cells
{    1.989423f,     5.722605f,    21.320257f,     0.124004f,     1.214261f,     0.572140f}, // From 59 cells
{    1.994785f,     5.549708f,    15.889796f,     0.147733f,     1.432025f,     0.662873f}, // From 3 cells
{    2.314388f,     5.467513f,    19.003227f,     0.212958f,     1.244038f,     0.594044f}, // From 343 cells
{    2.396088f,     4.862873f,    16.153950f,     0.324767f,     1.673285f,     0.384284f}, // From 2 cells
{    2.396088f,     4.738229f,    12.792444f,     0.497062f,     1.989036f,     0.429050f}, // From 2 cells
{    2.410180f,     4.691451f,    13.662210f,     0.373271f,     1.822335f,     0.573952f}, // From 2 cells
{    2.413618f,     5.149933f,    17.631454f,     0.352288f,     1.758597f,     0.770099f}, // From 4 cells
{    2.422898f,     5.171143f,    16.474091f,     0.417557f,     1.739443f,     0.760557f}, // From 3 cells
{    2.424911f,     4.885204f,    15.040660f,     0.345765f,     1.355293f,     0.495056f}, // From 14 cells
{    2.443091f,     5.024417f,    14.335209f,     0.286912f,     1.218290f,     0.352712f}, // From 4 cells
{    2.463629f,     5.143832f,    14.691385f,     0.206881f,     0.899008f,     0.305825f}, // From 2 cells
{    2.476633f,     5.605994f,    22.987877f,     0.189518f,     0.959152f,     0.657987f}, // From 3 cells
{    2.479612f,     5.722251f,    22.819571f,     0.240580f,     1.350082f,     0.746609f}, // From 5 cells
{    2.480987f,     5.384695f,    15.250307f,     0.297140f,     1.404210f,     0.784825f}, // From 2 cells
{    2.484195f,     5.610062f,    21.780365f,     0.317597f,     1.639291f,     1.163141f}, // From 3 cells
};
const int nOccupiedCellGroupsForImgGroup21 = 24;
const float occupiedCellGroupsForImgGroup21[24][6] = {
{    0.488913f,     2.790691f,     5.196423f,     0.763990f,     3.075455f,     0.332484f}, // From 2 cells
{    0.615423f,     2.981025f,     5.536112f,     0.955361f,     3.051951f,     0.284369f}, // From 2 cells
{    0.793794f,     2.511090f,     4.786610f,     1.377181f,     2.844198f,     0.291635f}, // From 4 cells
{    0.813676f,     2.727358f,     5.232548f,     2.476030f,     3.011011f,     0.354008f}, // From 4 cells
{    0.861408f,     2.693057f,     5.354045f,     2.140589f,     2.040178f,     0.283348f}, // From 7 cells
{    0.915124f,     2.520976f,     4.894983f,     1.379710f,     3.442358f,     0.246859f}, // From 2 cells
{    0.916265f,     2.700572f,     5.129907f,     1.766280f,     2.662765f,     0.283248f}, // From 163 cells
{    0.924898f,     2.965099f,     5.075845f,     2.416222f,     2.288324f,     0.314362f}, // From 11 cells
{    1.054176f,     2.775777f,     5.169957f,     3.082257f,     2.737080f,     0.284703f}, // From 17 cells
{    1.072433f,     3.114112f,     5.685465f,     1.627400f,     2.279900f,     0.263356f}, // From 2 cells
{    1.090783f,     2.488849f,     4.393354f,     2.078507f,     3.613747f,     0.256357f}, // From 3 cells
{    1.113543f,     2.912759f,     5.323368f,     2.085749f,     3.130064f,     0.282275f}, // From 9 cells
{    1.124224f,     2.367626f,     4.846716f,     1.989415f,     2.162114f,     0.245484f}, // From 3 cells
{    1.140127f,     2.688715f,     5.187515f,     3.626843f,     2.108041f,     0.282075f}, // From 5 cells
{    1.183182f,     2.735837f,     5.296960f,     2.645608f,     2.046543f,     0.266328f}, // From 17 cells
{    1.237158f,     2.584960f,     5.010215f,     3.020087f,     3.626740f,     0.312318f}, // From 4 cells
{    1.241181f,     2.778785f,     5.397933f,     4.358412f,     2.475019f,     0.305825f}, // From 2 cells
{    1.317212f,     2.756755f,     5.271707f,     2.144657f,     3.480469f,     0.335954f}, // From 3 cells
{    1.339313f,     2.778467f,     5.444649f,     2.595578f,     2.812373f,     0.297921f}, // From 12 cells
{    1.400496f,     2.563781f,     5.389963f,     3.569060f,     2.444424f,     0.316428f}, // From 2 cells
{    1.409631f,     2.535436f,     4.765664f,     2.395183f,     3.769624f,     0.300571f}, // From 4 cells
{    1.417780f,     2.585749f,     5.326652f,     2.317772f,     2.427100f,     0.340732f}, // From 4 cells
{    1.443977f,     2.735857f,     4.970522f,     4.140934f,     2.910893f,     0.293161f}, // From 8 cells
{    1.671918f,     2.563292f,     4.883873f,     2.743191f,     2.357743f,     0.241635f}, // From 5 cells
};

























// Large arrays are static global for efficiency (haven't tested)
extern PointF g_camScoreGrid[SIZE_COOP_LOC_GRID];

void ObstacleDetection_calcImgFeatures (ImgFeatures *imgFeatures, ImgCellFeatures *cellFeatures, const int occupancyGridY)
{
	int i, j;
	const float nCellsInv = 1.0f / (CAM_OCCUPANCY_GRID_X * occupancyGridY);

	for (i = 0; i < 12; ++i)
	{
		imgFeatures->vals[i] = 0.0f;
	}

	for (j = 0; j < occupancyGridY; ++j)
	{
		for (i = 0; i < CAM_OCCUPANCY_GRID_X; ++i)
		{
			imgFeatures->vals[0] += cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[0];
			imgFeatures->vals[1] += cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[1];
			imgFeatures->vals[2] += cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[2];
			imgFeatures->vals[3] += cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[3];
			imgFeatures->vals[4] += cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[4];
			imgFeatures->vals[5] += cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[5];
		}
	}

	imgFeatures->vals[0] *= nCellsInv;
	imgFeatures->vals[1] *= nCellsInv;
	imgFeatures->vals[2] *= nCellsInv;
	imgFeatures->vals[3] *= nCellsInv;
	imgFeatures->vals[4] *= nCellsInv;
	imgFeatures->vals[5] *= nCellsInv;

	for (j = 0; j < occupancyGridY; ++j)
	{
		for (i = 0; i < CAM_OCCUPANCY_GRID_X; ++i)
		{
			imgFeatures->vals[6] += fabs (cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[0] - imgFeatures->vals[0]);
			imgFeatures->vals[7] += fabs (cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[1] - imgFeatures->vals[1]);
			imgFeatures->vals[8] += fabs (cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[2] - imgFeatures->vals[2]);
			imgFeatures->vals[9] += fabs (cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[3] - imgFeatures->vals[3]);
			imgFeatures->vals[10] += fabs (cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[4] - imgFeatures->vals[4]);
			imgFeatures->vals[11] += fabs (cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[5] - imgFeatures->vals[5]);
		}
	}

	imgFeatures->vals[6] *= nCellsInv;
	imgFeatures->vals[7] *= nCellsInv;
	imgFeatures->vals[8] *= nCellsInv;
	imgFeatures->vals[9] *= nCellsInv;
	imgFeatures->vals[10] *= nCellsInv;
	imgFeatures->vals[11] *= nCellsInv;
}

void ObstacleDetection_calcInvImgFeatures (ImgFeatures *imgFeatures, ImgFeatures *invImgFeatures)
{
	int i;
	for (i = 0; i < 12; ++i)
	{
		invImgFeatures->vals[i] = 1.0f / imgFeatures->vals[i];
	}
}

//! Calculate the difference between an image description and an image group description.
float __calcImgDiff (ImgFeatures *imgFeatures, const float *imgGroupDesc)
{
	float diff = 
		fabs (imgFeatures->vals[0] - imgGroupDesc[0]) / (imgFeatures->vals[0] + imgGroupDesc[0]) +
		fabs (imgFeatures->vals[1] - imgGroupDesc[1]) / (imgFeatures->vals[1] + imgGroupDesc[1]) +
		fabs (imgFeatures->vals[2] - imgGroupDesc[2]) / (imgFeatures->vals[2] + imgGroupDesc[2]) +
		fabs (imgFeatures->vals[3] - imgGroupDesc[3]) / (imgFeatures->vals[3] + imgGroupDesc[3]) +
		fabs (imgFeatures->vals[4] - imgGroupDesc[4]) / (imgFeatures->vals[4] + imgGroupDesc[4]) +
		fabs (imgFeatures->vals[5] - imgGroupDesc[5]) / (imgFeatures->vals[5] + imgGroupDesc[5]) +
		fabs (imgFeatures->vals[6] - imgGroupDesc[6]) / (imgFeatures->vals[6] + imgGroupDesc[6]) +
		fabs (imgFeatures->vals[7] - imgGroupDesc[7]) / (imgFeatures->vals[7] + imgGroupDesc[7]) +
		fabs (imgFeatures->vals[8] - imgGroupDesc[8]) / (imgFeatures->vals[8] + imgGroupDesc[8]) +
		fabs (imgFeatures->vals[9] - imgGroupDesc[9]) / (imgFeatures->vals[9] + imgGroupDesc[9]) +
		fabs (imgFeatures->vals[10] - imgGroupDesc[10]) / (imgFeatures->vals[10] + imgGroupDesc[10]) +
		fabs (imgFeatures->vals[11] - imgGroupDesc[11]) / (imgFeatures->vals[11] + imgGroupDesc[11]);
	return diff;
}

//! Generate a description of a cell in the context of its image.
void __calcCellDescRelToImg (ImgCellFeatures *cellFeatures, ImgFeatures *imgInvFeatures, const int imgGroupRefFeatures[6], float relFeatures[6])
{
	int i;
	for (i = 0; i < 6; ++i)
	{
		relFeatures[i] = cellFeatures->vals[i] * imgInvFeatures->vals[imgGroupRefFeatures[i]];
	}
}

//! Calculate the difference between a cell description and a cell group description.
float __calcCellDiff (const float *cellDesc, const float *cellGroupDesc)
{
	float diff =
		fabs (cellDesc[0] - cellGroupDesc[0]) +
		fabs (cellDesc[1] - cellGroupDesc[1]) +
		fabs (cellDesc[2] - cellGroupDesc[2]) +
		fabs (cellDesc[3] - cellGroupDesc[3]) +
		fabs (cellDesc[4] - cellGroupDesc[4]) +
		fabs (cellDesc[5] - cellGroupDesc[5]);
	return diff;
}

void ObstacleDetection_calcCellFeatures (Image *img, const int i, const int j, ImgCellFeatures *cellFeatures, const int gridOrigX, const int gridOrigY)
{
	int k, l;
	int yStart, yEnd;
	int xStart, xEnd;
	uchar *imgPtr;
	uchar *imgPtr2;
	const float nInv = 1.0f / (CAM_OCCUPANCY_CELL_X * CAM_OCCUPANCY_CELL_Y);
	const float n2Inv = 1.0f / ((CAM_OCCUPANCY_CELL_X - 1) * (CAM_OCCUPANCY_CELL_Y - 1));

	float hAvg;
	float sAvg;
	float vAvg;
	float hTextAvg;
	float sTextAvg;
	float vTextAvg;
	int hDiff, sDiff, vDiff;

	hAvg = 0.0f;
	sAvg = 0.0f;
	vAvg = 0.0f;
	hTextAvg = 0.0f;
	sTextAvg = 0.0f;
	vTextAvg = 0.0f;

	yStart = gridOrigY + j * CAM_OCCUPANCY_CELL_Y;
	yEnd = yStart + CAM_OCCUPANCY_CELL_Y;

	for (l = yStart; l < yEnd; ++l)
	{
		imgPtr = img->data + (l * img->wStep) + (gridOrigX * 3) + (i * CAM_OCCUPANCY_CELL_X * 3);

		for (k = 0; k < CAM_OCCUPANCY_CELL_X; ++k, imgPtr+=3)
		{
			hAvg += imgPtr[0];
			sAvg += imgPtr[1];
			vAvg += imgPtr[2];
		}
	}

	--yEnd;
	for (l = yStart; l < yEnd; ++l)
	{
		xStart = gridOrigX + i * CAM_OCCUPANCY_CELL_X;
		xEnd = xStart + CAM_OCCUPANCY_CELL_X;
		--xEnd;

		for (k = xStart; k < xEnd; ++k)
		{
			hDiff = 0;
			sDiff = 0;
			vDiff = 0;
			imgPtr = img->data + (l * img->wStep + k * 3);
			imgPtr2 = img->data + ((l    ) * img->wStep + (k + 1) * 3); hDiff += abs (imgPtr[0] - imgPtr2[0]); sDiff += abs (imgPtr[1] - imgPtr2[1]); vDiff += abs (imgPtr[2] - imgPtr2[2]);
			imgPtr2 = img->data + ((l + 1) * img->wStep + (k    ) * 3); hDiff += abs (imgPtr[0] - imgPtr2[0]); sDiff += abs (imgPtr[1] - imgPtr2[1]); vDiff += abs (imgPtr[2] - imgPtr2[2]);
			imgPtr2 = img->data + ((l + 1) * img->wStep + (k + 1) * 3); hDiff += abs (imgPtr[0] - imgPtr2[0]); sDiff += abs (imgPtr[1] - imgPtr2[1]); vDiff += abs (imgPtr[2] - imgPtr2[2]);
			hTextAvg += (float)hDiff;
			sTextAvg += (float)sDiff;
			vTextAvg += (float)vDiff;
		}
	}

	hAvg *= nInv;
	sAvg *= nInv;
	vAvg *= nInv;
	hTextAvg *= n2Inv;
	sTextAvg *= n2Inv;
	vTextAvg *= n2Inv;

	cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[0] = hAvg;
	cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[1] = sAvg;
	cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[2] = vAvg;
	cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[3] = hTextAvg;
	cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[4] = sTextAvg;
	cellFeatures[i + j * CAM_OCCUPANCY_GRID_X].vals[5] = vTextAvg;
}

void ObstacleDetection_calcImgCellFeatures (Image *img, ImgCellFeatures *cellFeatures, const int occupancyGridY, const int gridOrigX, const int gridOrigY)
{
	int i, j;

	for (j = 0; j < occupancyGridY; ++j)
	{
		for (i = 0; i < CAM_OCCUPANCY_GRID_X; ++i)
		{
			ObstacleDetection_calcCellFeatures (img, i, j, cellFeatures, gridOrigX, gridOrigY);
		}
	}
}





























































#define DEBUGGING

#define NCELLGROUPS (24 * 32) // 768

static float imgGroupDiffs[N_IMAGE_GROUPS];
#ifdef DEBUGGING
static float unoccupDiffs[NCELLGROUPS];
static float occupDiffs[NCELLGROUPS];
#endif

// I think this function is BS. Delete once function with proper logic is done
uchar __calcOccupiedEst (PointF *camScoreGrid,
						 const int cellI,
						 const int cellJ,
						 const int occupGridX,
						 const int occupGridY)
{
	uchar est;
	int i, j;
	int nConfident;
	int nUnoccupOccup[2];
	PointF ptf;
	float f;
	const int populationThreshold = 4;
	const float confidence = 0.05f; // For neighbours, treat confidence as (diff >= .1) / avgOfTwoVals

	// Determine if confidence for this cell is high enough on its own.
	ptf = camScoreGrid[cellI + cellJ * occupGridX];
//	f = fabs (ptf.x - ptf.y) / (ptf.x + ptf.y);
//	if (f > confidence)
	{
		est = (uchar)((0.9f * ptf.y) < ptf.x); // The provided values are diffs, so the smaller the better.
		return est;
	}

	// Determine if neighbours are confident enough to effect value.
	est = 0;
	nConfident = 0;
	nUnoccupOccup[0] = 0;
	nUnoccupOccup[1] = 0;
	for (i = cellI - 1; i < cellI + 2; ++i)
	{
		for (j = cellJ - 1; j < cellJ + 2; ++j)
		{
			if (i >= 0 && i < occupGridX &&
				j >= 0 && j < occupGridY &&
				(i != cellI || j != cellJ))
			{
				ptf = camScoreGrid[i + j * occupGridX];
				f = fabs (ptf.x - ptf.y) / (ptf.x + ptf.y);
				if (f > confidence)
				{
					++nConfident;

					// Remember that x (or 0) is unoccupied, y (or 1) is occupied.
					++nUnoccupOccup[(ptf.y < ptf.x)];
				}
				//else
				//{
				//	// For neighbours, noconfidence may be considered possibly occupied
				//	++nConfident;
				//	++nUnoccupOccup[1];
				//}
			}
		}
	}

	// Result is no decision by default.
#define ALLOW_NO_DECISION
#ifdef ALLOW_NO_DECISION
	// Remember: 0=free, 1=occupied, 2=unknown, 3=robot
	est = 2;
	if (nConfident > populationThreshold)
#endif
	{
		// If enough occupied, assume also occupied. Again, estimate of 1 means occupied.
		est = (uchar)((float)nUnoccupOccup[1] > 0.4f * (float)nUnoccupOccup[0]);
	}

#ifdef ALLOW_NO_DECISION
#undef ALLOW_NO_DECISION
#endif

	return est;
}

uchar __calcOccupiedEst_NEW (PointF *camScoreGrid,
						 OccupancyGrid *camOccupancyGrid,
						 const int cellI,
						 const int cellJ,
						 const int occupGridX,
						 const int occupGridY)
{
	uchar est;
	int i, j;
	int nConfident;
	int nUnoccupOccup[2];
	PointF ptf;
	float f;
	const int populationThreshold = 4;
	const float confidence = 0.05f; // For neighbours, treat confidence as (diff >= .1) / avgOfTwoVals

	// Determine if confidence for this cell is high enough on its own.
	ptf = camScoreGrid[cellI + cellJ * occupGridX];
	f = fabs (ptf.x - ptf.y) / (ptf.x + ptf.y);
	if (f > confidence)
	{
		est = (uchar)(ptf.y < ptf.x); // The provided values are diffs, so the smaller the better.
		return est;
	}

	// Determine if neighbours are confident enough to effect value.
	est = 0;
	nConfident = 0;
	nUnoccupOccup[0] = 0;
	nUnoccupOccup[1] = 0;
	for (i = cellI - 1; i < cellI + 2; ++i)
	{
		for (j = cellJ - 1; j < cellJ + 2; ++j)
		{
			if (i >= 0 && i < occupGridX &&
				j >= 0 && j < occupGridY &&
				(i != cellI || j != cellJ))
			{
				ptf = camScoreGrid[i + j * occupGridX];
				f = fabs (ptf.x - ptf.y) / (ptf.x + ptf.y);
				if (f > confidence)
				{
					++nConfident;

					// Remember that x (or 0) is unoccupied, y (or 1) is occupied.
					++nUnoccupOccup[(ptf.y < ptf.x)];
				}
				//else
				//{
				//	// For neighbours, noconfidence may be considered possibly occupied
				//	++nConfident;
				//	++nUnoccupOccup[1];
				//}
			}
		}
	}

	// Result is no decision by default.
#define ALLOW_NO_DECISION
#ifdef ALLOW_NO_DECISION
	// Remember: 0=free, 1=occupied, 2=unknown, 3=robot
	est = 2;
	if (nConfident > populationThreshold)
#endif
	{
		// If enough occupied, assume also occupied. Again, estimate of 1 means occupied.
		est = (uchar)((float)nUnoccupOccup[1] > 0.4f * (float)nUnoccupOccup[0]);
	}

#ifdef ALLOW_NO_DECISION
#undef ALLOW_NO_DECISION
#endif

	return est;
}

int ObstacleDetection_calcOccupiedEst(const int camOccupancyGridY,
									  OccupancyGrid *camOccupancyGrid,
									  PointF *camScoreGrid,
									  int *isObstacleInCamOccupancyGrid)
{
	int i, j;
	uchar gridVal;
	uchar isOccupiedEst;
	int isAnyOccupiedEst = 0;

	// We should obviously init'ing this grid before we do hte coop loc step,
	// but that isn't ready yet.
	initOccupancyGrid (camOccupancyGrid);

	for (j = 0; j < camOccupancyGridY; ++j)
	{
		for (i = 0; i < CAM_OCCUPANCY_GRID_X; ++i)
		{
			gridVal = TwoBitArray_checkCoords (camOccupancyGrid->grid, i, j, CAM_OCCUPANCY_GRID_X);

			if (gridVal == (uchar)3)
			{
				continue;
			}

			isOccupiedEst = __calcOccupiedEst (camScoreGrid, i, j, CAM_OCCUPANCY_GRID_X, camOccupancyGridY);
//			isOccupiedEst = __calcOccupiedEst_NEW (camScoreGrid, camOccupancyGrid, i, j, CAM_OCCUPANCY_GRID_X, camOccupancyGridY);
			isAnyOccupiedEst |= (int)(isOccupiedEst == (uchar)1);
			TwoBitArray_setCoords (camOccupancyGrid->grid, i, j, CAM_OCCUPANCY_GRID_X, isOccupiedEst);
		}
	}

	return isAnyOccupiedEst;
}

int ObstacleDetection_calcOccupiedEst2 (const int camOccupancyGridY,
									    OccupancyGrid *camOccupancyGrid,
									    PointF *camScoreGrid,
									    ImgCellFeatures *cellFeatures,
										ImgFeatures *imgInvFeatures,
										const int closestImgGroupIndex,
									    int *isObstacleInCamOccupancyGrid)
{
	int i, j, k, l;
	float cellDescRelToImg[6];
	float nbourDescRelToImg[6];
	float cellDiff;
	uchar gridVal;
	uchar isOccupiedEst;
	int isAnyOccupiedEst = 0;

	// stupid doing this here (should be doing robot rec before calling this func), but
	// ok for dev/testing
	initOccupancyGrid (camOccupancyGrid);

	for (j = 0; j < camOccupancyGridY; ++j)
	{
		for (i = 0; i < CAM_OCCUPANCY_GRID_X; ++i)
		{
			gridVal = TwoBitArray_checkCoords (camOccupancyGrid->grid, i, j, CAM_OCCUPANCY_GRID_X);

			// This will never be the case - will be deleted when coop loc is finished/working
			if (gridVal == (uchar)3)
			{
				continue;
			}

			// The imgGroupRefFeats describe the best features in the image group that should be used as
			// a reference for comparing cells. This should hold for the current image, as the
			// imgGroupIndex.
			__calcCellDescRelToImg (&cellFeatures[i + j * CAM_OCCUPANCY_GRID_X], imgInvFeatures, imgGroupRefFeats[closestImgGroupIndex], cellDescRelToImg);

			for (l = max (0, j - 1); l < min (camOccupancyGridY, j + 2); ++l)
			{
				for (k = max (0, i - 1); k < min (CAM_OCCUPANCY_GRID_X, i + 2); ++k)
				{
					gridVal = TwoBitArray_checkCoords (camOccupancyGrid->grid, k, l, CAM_OCCUPANCY_GRID_X);
					if (gridVal == 2 || gridVal == 3) // Already marked as either robot or unknown
					{
						continue;
					}

					__calcCellDescRelToImg (&cellFeatures[k + l * CAM_OCCUPANCY_GRID_X], imgInvFeatures, imgGroupRefFeats[closestImgGroupIndex], nbourDescRelToImg);
					cellDiff = __calcCellDiff (cellDescRelToImg, nbourDescRelToImg);

					// Get similarity with neighbour.

					// Determine neighbour's confidence.

					// If similarity big/small enough, and neighbours confidence big enough, then add val as approp



				}
			}

			isOccupiedEst = __calcOccupiedEst (camScoreGrid, i, j, CAM_OCCUPANCY_GRID_X, camOccupancyGridY);
			isAnyOccupiedEst |= (int)(isOccupiedEst == (uchar)1);
			TwoBitArray_setCoords (camOccupancyGrid->grid, i, j, CAM_OCCUPANCY_GRID_X, isOccupiedEst);
		}
	}

	return isAnyOccupiedEst;
}

void ObstacleDetection_calcImgOccupancy (ImgFeatures *imgFeatures,
										 ImgFeatures *imgInvFeatures,
										 ImgCellFeatures *cellFeatures,
										 PointF *camScoreGrid,
										 int *closestImgGroupIndex,
										 const int camOccupancyGridY)
{
	int cellIndex;
	int imgGroupIndex;
	float minImgGroupScore;
	int minImgGroupIndex;
	int k;
	float imgGroupDiffCoeff = 2.0f; // Arbitrary, but found to give the best results during testing.
	int nOccupCellGroups, nUnoccupCellGroups;
	uchar isOccupiedEst;
	float cellDiff;
	float diff = MAX_FLT;
	float cellDescRelToImg[6];
	const float (*unoccupGroupDescs)[6];
	const float (*occupGroupDescs)[6];
	const float *ptr;
	float bestUnoccupMatch;
	float bestOccupMatch;
	int bestUnoccupImgGroup;
	int bestOccupImgGroup;
	int bestUnoccupCellGroup;
	int bestOccupCellGroup;
#ifdef DEBUGGING
	float *unoccupDiffsPtr, *occupDiffsPtr;
#endif

	bestUnoccupMatch = MAX_FLT;
	bestOccupMatch = MAX_FLT;

	minImgGroupIndex = -1;
	minImgGroupScore = MAX_FLT;
	for (imgGroupIndex = 0; imgGroupIndex < N_IMAGE_GROUPS; ++imgGroupIndex)
	{
		// Calculate similarity of image to this imageGroup
		imgGroupDiffs[imgGroupIndex] = __calcImgDiff (imgFeatures, imgGroupDescs[imgGroupIndex]);
		if (imgGroupDiffs[imgGroupIndex] < minImgGroupScore)
		{
			minImgGroupScore = imgGroupDiffs[imgGroupIndex];
			minImgGroupIndex = imgGroupIndex;
		}
	}
	*closestImgGroupIndex = minImgGroupIndex;

	for (cellIndex = 0; cellIndex < CAM_OCCUPANCY_GRID_X * camOccupancyGridY; ++cellIndex)
	{
		bestOccupMatch = MAX_FLT;
		bestUnoccupMatch = MAX_FLT;

#ifdef DEBUGGING
		memset (unoccupDiffs, 0, sizeof (float) * NCELLGROUPS);
		memset (occupDiffs, 0, sizeof (float) * NCELLGROUPS);
		unoccupDiffsPtr = unoccupDiffs;
		occupDiffsPtr = occupDiffs;
#endif

		for (imgGroupIndex = 0; imgGroupIndex < N_IMAGE_GROUPS; ++imgGroupIndex)
		{
			// imgGroupRefFeatures have been determined as the best image features for describing cell features
			__calcCellDescRelToImg (&cellFeatures[cellIndex], imgInvFeatures, imgGroupRefFeats[imgGroupIndex], cellDescRelToImg);



			// Get set of cellGroups for this imageGroup




			// Get set of cellGroups for this imageGroup
			switch (imgGroupIndex)
			{
			case 0:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup0;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup0;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup0;
				occupGroupDescs = occupiedCellGroupsForImgGroup0;
				break;
			case 1:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup1;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup1;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup1;
				occupGroupDescs = occupiedCellGroupsForImgGroup1;
				break;
			case 2:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup2;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup2;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup2;
				occupGroupDescs = 0;
				break;
			case 3:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup3;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup3;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup3;
				occupGroupDescs = 0;
				break;
			case 4:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup4;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup4;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup4;
				occupGroupDescs = occupiedCellGroupsForImgGroup4;
				break;
			case 5:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup5;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup5;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup5;
				occupGroupDescs = 0;
				break;
			case 6:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup6;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup6;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup6;
				occupGroupDescs = occupiedCellGroupsForImgGroup6;
				break;
			case 7:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup7;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup7;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup7;
				occupGroupDescs = occupiedCellGroupsForImgGroup7;
				break;
			case 8:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup8;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup8;
				unoccupGroupDescs = 0;
				occupGroupDescs = occupiedCellGroupsForImgGroup8;
				break;
			case 9:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup9;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup9;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup9;
				occupGroupDescs = occupiedCellGroupsForImgGroup9;
				break;
			case 10:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup10;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup10;
				unoccupGroupDescs = 0;
				occupGroupDescs = occupiedCellGroupsForImgGroup10;
				break;
			case 11:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup11;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup11;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup11;
				occupGroupDescs = occupiedCellGroupsForImgGroup11;
				break;
			case 12:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup12;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup12;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup12;
				occupGroupDescs = 0;
				break;
			case 13:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup13;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup13;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup13;
				occupGroupDescs = 0;
				break;
			case 14:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup14;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup14;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup14;
				occupGroupDescs = occupiedCellGroupsForImgGroup14;
				break;
			case 15:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup15;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup15;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup15;
				occupGroupDescs = occupiedCellGroupsForImgGroup15;
				break;
			case 16:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup16;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup16;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup16;
				occupGroupDescs = occupiedCellGroupsForImgGroup16;
				break;
			case 17:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup17;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup17;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup17;
				occupGroupDescs = occupiedCellGroupsForImgGroup17;
				break;
			case 18:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup18;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup18;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup18;
				occupGroupDescs = occupiedCellGroupsForImgGroup18;
				break;
			case 19:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup19;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup19;
				unoccupGroupDescs = 0;
				occupGroupDescs = occupiedCellGroupsForImgGroup19;
				break;
			case 20:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup20;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup20;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup20;
				occupGroupDescs = occupiedCellGroupsForImgGroup20;
				break;
			case 21:
				nUnoccupCellGroups = nUnoccupiedCellGroupsForImgGroup21;
				nOccupCellGroups = nOccupiedCellGroupsForImgGroup21;
				unoccupGroupDescs = unoccupiedCellGroupsForImgGroup21;
				occupGroupDescs = occupiedCellGroupsForImgGroup21;
				break;
			default:
				nUnoccupCellGroups = 0;
				nOccupCellGroups = 0;
				unoccupGroupDescs = 0;
				occupGroupDescs = 0;
				break;
			}







			if (unoccupGroupDescs)
			{
				// Calculate similarity to each cell group
				for (k = 0; k < nUnoccupCellGroups; ++k)
				{
					ptr = unoccupGroupDescs[k];
					cellDiff = __calcCellDiff (cellDescRelToImg, ptr);
					diff = cellDiff + imgGroupDiffCoeff * imgGroupDiffs[imgGroupIndex];
					if (diff < bestUnoccupMatch)
					{
						bestUnoccupMatch = diff;
						bestUnoccupImgGroup = imgGroupIndex;
						bestUnoccupCellGroup = k;
					}
#ifdef DEBUGGING
					*unoccupDiffsPtr = diff;
					++unoccupDiffsPtr;
#endif
				}
			}

			if (occupGroupDescs)
			{
				// Calculate similarity to each cell group
				for (k = 0; k < nOccupCellGroups; ++k)
				{
					ptr = occupGroupDescs[k];
					cellDiff = __calcCellDiff (cellDescRelToImg, ptr);
					diff = cellDiff + imgGroupDiffCoeff * imgGroupDiffs[imgGroupIndex];
					if (diff < bestOccupMatch)
					{
						bestOccupMatch = diff;
						bestOccupImgGroup = imgGroupIndex;
						bestOccupCellGroup = k;
					}
				}
#ifdef DEBUGGING
				*occupDiffsPtr = diff;
				++occupDiffsPtr;
#endif
			}
		}

		camScoreGrid[cellIndex].x = bestUnoccupMatch;
		camScoreGrid[cellIndex].y = bestOccupMatch;

		// The occupancy grid is not set based on the score of each cell alone, but on
		// a combination of it and its neighbours.
		/*if (0)
		{
			isOccupiedEst = bestOccupMatch < bestUnoccupMatch;
			isAnyOccupiedEst |= isOccupiedEst;
			TwoBitArray_setIndex (g_camOccupancyGrid.grid, cellIndex, isOccupiedEst);
		}*/

		if (0)
		{
			printf ("%3d %d %14f:%14f bestUnocImg %3d bestUnocCell %3d bestOcImg %3d bestOcCell %3d\n", cellIndex, isOccupiedEst, bestUnoccupMatch, bestOccupMatch, bestUnoccupImgGroup, bestUnoccupCellGroup, bestOccupImgGroup, bestOccupCellGroup);
		}
	}
}

#ifdef DEBUGGING
#undef DEBUGGING
#endif
